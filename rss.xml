<?xml version="1.0" encoding="utf-8"?>






<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Nerd things and more...</title>
        <link>https://earvingad.github.io/</link>
        <description>Hi, this is a blog about nerd things and stuff.</description>
        <generator>Hugo 0.112.3 https://gohugo.io/</generator>
        
            <language>en</language>
        
        
            <managingEditor>gmail.com (Earving)</managingEditor>
        
        
            <webMaster>gmail.com (Earving)</webMaster>
        
        
            <copyright>If you share, please give credit and support.</copyright>
        
        <lastBuildDate>Mon, 31 Jul 2023 18:53:30 -0600</lastBuildDate>
        
            <atom:link rel="self" type="application/rss&#43;xml" href="https://earvingad.github.io/rss.xml" />
        
        
            <item>
                <title>Sonoff mini r2, my screw up and repair</title>
                <link>https://earvingad.github.io/posts/sonoffminir2repair/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/sonoffminir2repair/</guid>
                <pubDate>Wed, 26 Jul 2023 19:06:18 -0600</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>&lt;p&gt;I bought a sonoff mini r2 with the intention to automate my bedroom light. It requires a neutral wire to work, so it was quite difficult to use in my room due to light is connected in a two way switch and it does not have neutral wire. Eventually, I sorted it out by pulling a neutral from a plug close to one of the switches. However, in the process I screwed it up…&lt;/p&gt;
&lt;p&gt;
I accidentally connected the neutral wire in the S1 input (which is actually connected to ground) of the sonoff while wiring the manual switch and I blew up the D4 diode.&lt;/p&gt;
&lt;p&gt;
&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/sonoffminir2rapair/minir2D4.webp&#34; width=&#34;250&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;
Luckily, nothing else was damaged. I just lost the feature of the manual switch. Nevertheless, If I connected the S2 (which is GPIO04) to another exposed ground, the manual switch worked. So I ended up making a &amp;#34;bridge&amp;#34; (I think the English term is &amp;#34;jumper&amp;#34;) between the ground and the S1 connection. This is the result:&lt;/p&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/sonoffminir2rapair/minir2GND.webp&#34;/&gt;
&lt;/figure&gt;
&lt;/td&gt;
&lt;td&gt;&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/sonoffminir2rapair/minir2repair.jpg&#34; width=&#34;1200&#34;/&gt;
&lt;/figure&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;
The drawback is that if by accident, again, I connect the hot or neutral wire to the S1, the whole device is going to be fried. I tried to solder a diode for protection but due to the small space in the enclosure, sometimes the relay got stuck, like if it was inducted by the diode, so I decided to remove the diode.&lt;/p&gt;
&lt;p&gt;
Anyway, if someone face the same problem I hope this helps them out.&lt;/p&gt;
&lt;p&gt;
BTW, I ended up removing the sonoff mini r2 and instead installed a smart light bulb.&lt;/p&gt;
&lt;p&gt;
&lt;figure&gt;&lt;img src=&#34;https://media.tenor.com/PMobGgF0ppAAAAAd/pedro-pascal-pedro-pascal-smile.gif&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homeassistant/">homeassistant</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/smarthome/">smarthome</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/smart/">smart</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/iot/">iot</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/homeassistant/">homeassistant</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/esphome/">esphome</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/tasmota/">tasmota</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/light/">light</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/switch/">switch</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/sonoff/">sonoff</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>IoT devices, local control</title>
                <link>https://earvingad.github.io/posts/esphometasmota/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/esphometasmota/</guid>
                <pubDate>Sun, 23 Jul 2023 12:13:58 -0600</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;If you started to install smart devices, you realized that you need apps to manage the devices. The more popular are Tuya, Smart life and eWeLink. However, they come with a drawback: They rely on the third party cloud, if you loss internet connection you won&amp;#39;t be able to control the devices. In order to solve that you can re-flash the devices with another software. In other words, override the software of the device which will allow you to control the device locally. I&amp;#39;ll discuss some I&amp;#39;ve used just for put them in your radar.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
ESPHome
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://esphome.io/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;ESPHome&lt;/span&gt;&lt;/a&gt; &lt;em&gt;is a system to control your ESP8266/ESP32 and RP2040 by simple yet powerful configuration files and control them remotely through Home Automation systems.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;
This is by far the most popular software, highly customizable and configurable through &lt;a href=&#34;https://www.redhat.com/en/topics/automation/what-is-yaml&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;YAML files&lt;/span&gt;&lt;/a&gt; that make the programming easily readable. There many devices supported, if they have and ESP82XX/ESP32 chip surely there is already a template for the device. You can also experiment with ESP devkit boards for your specific needs.&lt;/p&gt;
&lt;p&gt;
PROS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fully integrated with HomeAssistant.&lt;/li&gt;
&lt;li&gt;No need to know how to program, YAML files are used to instruct the programming of the devices.&lt;/li&gt;
&lt;li&gt;Easy to install.&lt;/li&gt;
&lt;li&gt;Documentation is very extensive.&lt;/li&gt;
&lt;li&gt;Very active community to find support.&lt;/li&gt;
&lt;li&gt;OTA updates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CONS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Need to recompile the software if you want to change something in the device configuration.&lt;/li&gt;
&lt;li&gt;Web UI component is very limited to control the device from the Web.&lt;/li&gt;
&lt;li&gt;Time to read the documentation (is it really a con?)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
LibreTiny (AKA LibreTuya)
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.libretiny.eu/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;LibreTiny&lt;/span&gt;&lt;/a&gt; is a port of ESPHome to work with non-ESP chips, like devices with Beken chips (e.g. BK7231N/T devices, CBU, CB3s, WB3L chips, etc.). This means, it is fully compatible with ESPHome configurations through YAML and it can be installed through &lt;a href=&#34;https://github.com/tuya-cloudcutter/tuya-cloudcutter&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tuya-CloudCutter&lt;/span&gt;&lt;/a&gt; for supported devices, so opening the device and solder wires is not needed.&lt;/p&gt;
&lt;p&gt;
PROS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fully integrated with HomeAssistant.&lt;/li&gt;
&lt;li&gt;No need to know how to program, YAML files are used to instruct the programming of the devices.&lt;/li&gt;
&lt;li&gt;Can be installed through &lt;a href=&#34;https://github.com/tuya-cloudcutter/tuya-cloudcutter&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tuya-CloudCutter&lt;/span&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Easy to install.&lt;/li&gt;
&lt;li&gt;You can get YAML templates for specific supported devices &lt;a href=&#34;https://upk.libretiny.eu/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;here&lt;/span&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Documentation is the same as ESPHome for YAML configuration.&lt;/li&gt;
&lt;li&gt;Very active community to find support.&lt;/li&gt;
&lt;li&gt;OTA updates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CONS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Need to recompile the software if you want to change something in the device configuration.&lt;/li&gt;
&lt;li&gt;Some Tuya devices now work with a TuyaMCU, which is an extra layer of communication between the device and you. This requires extra steps.&lt;/li&gt;
&lt;li&gt;Web UI component is very limited to control the device from the Web.&lt;/li&gt;
&lt;li&gt;Time to read the documentation (is it really a con?)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Tasmota
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://tasmota.github.io/docs/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tasmota&lt;/span&gt;&lt;/a&gt; &lt;em&gt;is an open source firmware for Espressif ESP8266, ESP32, ESP32-S or ESP32-C3 chipset based devices created and maintained by Theo Arends&lt;/em&gt;. Tasmota allows you to control the device using MQTT, Web UI and HTTP. Automate using timers, rules or scripts within the device using the Web UI.&lt;/p&gt;
&lt;p&gt;
PROS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fully integrated with HomeAssistant through MQTT.&lt;/li&gt;
&lt;li&gt;Everything can be configured from the Web UI.&lt;/li&gt;
&lt;li&gt;No need to know how to program.&lt;/li&gt;
&lt;li&gt;Easy to install.&lt;/li&gt;
&lt;li&gt;No need to recompile for single changes.&lt;/li&gt;
&lt;li&gt;Documentation is very extensive.&lt;/li&gt;
&lt;li&gt;Very active community to find support.&lt;/li&gt;
&lt;li&gt;OTA updates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CONS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Needs a MQTT broker to be fully integrated with homeassistant.&lt;/li&gt;
&lt;li&gt;I found some of the documentation instructions outdated.&lt;/li&gt;
&lt;li&gt;Time to read the documentation (is it really a con?)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
OpenBeken
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://openbekeniot.github.io/webapp/devicesList.html&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;OpenBeken&lt;/span&gt;&lt;/a&gt; &lt;em&gt;is a Tasmota/ESPHome replacement for new Tuya modules featuring MQTT and Home Assistant compatibility.&lt;/em&gt; It is designed to work with Beken chips (e.g. BK7231N/T devices, CBU, CB3s, WB3L chips, etc.). In appearance it is very similar to Tasmota, but it is not a port like LibreTiny to ESPHome. OpenBeken is a new firmware. It can be installed through &lt;a href=&#34;https://github.com/tuya-cloudcutter/tuya-cloudcutter&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tuya-CloudCutter&lt;/span&gt;&lt;/a&gt; for supported devices, so opening the device and solder wires is not needed.&lt;/p&gt;
&lt;p&gt;
PROS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fully integrated with HomeAssistant through MQTT.&lt;/li&gt;
&lt;li&gt;Everything can be configured from the Web UI.&lt;/li&gt;
&lt;li&gt;No need to know how to program.&lt;/li&gt;
&lt;li&gt;Easy to install.&lt;/li&gt;
&lt;li&gt;No need to recompile for single changes.&lt;/li&gt;
&lt;li&gt;Can be installed through &lt;a href=&#34;https://github.com/tuya-cloudcutter/tuya-cloudcutter&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tuya-CloudCutter&lt;/span&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;You can get configuration templates for specific supported devices &lt;a href=&#34;https://openbekeniot.github.io/webapp/devicesList.html&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;here&lt;/span&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;OTA updates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CONS:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Needs a MQTT broker to be fully integrated with homeassistant.&lt;/li&gt;
&lt;li&gt;Documentation is still a work in progress.&lt;/li&gt;
&lt;li&gt;Some Tuya devices now work with a TuyaMCU, which is an extra layer of communication between the device and you. This requires extra steps.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-5&#34;&gt;
No re-flash solutions
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;If you do not want to re-flash the devices, there a another few alternatives&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/jasonacox/tinytuya&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;TinyTuya&lt;/span&gt;&lt;/a&gt;, is a &lt;em&gt;python module controls and reads state of Tuya compatible WiFi Smart Devices (Plugs, Switches, Lights, Window Covers, etc.) using the local area network (LAN)&lt;/em&gt;. First you need to use Tuya-CloudCutter to disconnect the device from the cloud.&lt;/li&gt;
&lt;li&gt;ZigBee, is &lt;em&gt;a low-power wireless mesh network standard targeted at battery-powered devices in wireless control and monitoring applications.&lt;/em&gt; ZigBee devices can be integrated to HomeAssistant through &lt;a href=&#34;https://www.zigbee2mqtt.io/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Zigbee2MQTT&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://www.home-assistant.io/integrations/zha/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;ZHA&lt;/span&gt;&lt;/a&gt; or &lt;a href=&#34;https://www.home-assistant.io/integrations/deconz/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;deCONZ&lt;/span&gt;&lt;/a&gt; but you will need a Zigbee Gateway.&lt;/li&gt;
&lt;li&gt;Matter (and Thread), &lt;em&gt;is a local protocol. Device control is done without the need of any cloud. From a technical perspective, you can use a Matter-compatible device with Home Assistant without connecting to a vendor-specific cloud.&lt;/em&gt; It allows to  control devices through a protocol that runs on top of the existing network infrastructure, using your existing Wi-Fi/Ethernet routers and Thread. It is still &lt;a href=&#34;https://www.home-assistant.io/blog/2023/02/08/state-of-matter-and-thread/&#34;&gt;_under HomeAssistant development.&lt;/a&gt; Similarly to ZigBee, you will need a Matter bridge in order to connect/use the devices.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homeassistant/">homeassistant</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/smarthome/">smarthome</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/remote/">remote</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/smart/">smart</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/iot/">iot</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/homeassistant/">homeassistant</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/esphome/">esphome</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/tasmota/">tasmota</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openbeken/">openbeken</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/libretuya/">libretuya</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/libretiny/">libretiny</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Home-Assistant, being lazy at home</title>
                <link>https://earvingad.github.io/posts/homeassistant/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/homeassistant/</guid>
                <pubDate>Sun, 16 Jul 2023 12:52:44 -0600</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://www.home-assistant.io/images/favicon-192x192-full.png&#34;/&gt;
&lt;/figure&gt;

&lt;em&gt;Open source home automation that puts local control and privacy first. Powered by a worldwide community of tinkerers and DIY enthusiasts. Perfect to run on a Raspberry Pi or a local server.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;
HomeAssistant is basically an OS (?) where you can add all the &lt;a href=&#34;https://en.wikipedia.org/wiki/Internet_of_things&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;IoT&lt;/span&gt;&lt;/a&gt; devices (e.g. smart switches, cameras, smart led lights, sensors, TVs, etc.) of your home, to be controlled locally from a friendly UI, with ability to create automations to be executed at specific times and/or events. I will just cover the basics.&lt;/p&gt;
&lt;p&gt;
Usually the automations that come to my mind are easy but time consuming:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Feeling lazy to get up of the bed to turn off the light? Easy.&lt;/li&gt;
&lt;li&gt;Turn off all the lights if nobody it at home? No problem.&lt;/li&gt;
&lt;li&gt;Activate alarm if movement is detected while you are sleeping? Of course!&lt;/li&gt;
&lt;li&gt;Who the fuck enjoys watering the plants? Exactly!&lt;/li&gt;
&lt;li&gt;Start the coffee machine so coffee is ready when you get up? Yes sir!&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Installation
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;There are several ways to &lt;a href=&#34;https://www.home-assistant.io/installation/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;install HomeAssistant&lt;/span&gt;&lt;/a&gt;, from using a raspberry pi, a docker container, full OS installation of virtualization. Depending on your needs, your experience and available hardware you may chose from the  &lt;a href=&#34;https://www.home-assistant.io/installation/#compare-installation-methods&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;different options&lt;/span&gt;&lt;/a&gt;. Ususally the full OS is recommended. Either on a low power consumption hardware, like the raspberry or a tiny pc.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Integrations
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Once you have installed HomeAssistant, you can start adding &lt;a href=&#34;https://www.home-assistant.io/integrations/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;integrations&lt;/span&gt;&lt;/a&gt;. &lt;em&gt;Integrations can listen for or trigger events, offer services, and maintain states.&lt;/em&gt; So, an integration can be described as the main of communication between the instructions you give to HomeAssistant and the IoT device.&lt;/p&gt;
&lt;p&gt;
As an example, lets say you have a smart switch and you want to turn on your bedroom ligh and it is connected to &amp;#34;light integration&amp;#34; for homeassistant:&lt;/p&gt;
&lt;p&gt;
&lt;code class=&#34;verbatim&#34;&gt;You (tur on) -&amp;gt; HomeAssistant -&amp;gt; Light integration -&amp;gt; Light (state: OFF)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
then the light will turn on and you will see a change of the state of the light from off to on&lt;/p&gt;
&lt;p&gt;
&lt;code class=&#34;verbatim&#34;&gt;You &amp;lt;- HomeAssistant &amp;lt;- Light integration &amp;lt;- Light (state: ON)&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Automations
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.home-assistant.io/getting-started/automation/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Automations&lt;/span&gt;&lt;/a&gt; are that, a series of instructions that will run automatically when a trigger event occurs. The trigger can be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;An specific time: Everyday at 20:00 h start irrigation system.&lt;/li&gt;
&lt;li&gt;Motion triggered: When movement is detected, turn on hallway light.&lt;/li&gt;
&lt;li&gt;Sensor triggered: If temperature of kitchen rises to 30°C turn on fan extraction system.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are many pre-made automations called &lt;a href=&#34;https://www.home-assistant.io/examples/#popular-blueprints&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;blueprints&lt;/span&gt;&lt;/a&gt;, where you can start looking around. Also, automations are easy to set up in HomeAssistant by just selecting from drop down menus.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
&lt;a href=&#34;https://demo.home-assistant.io/#/lovelace/0&#34;&gt;Please ake a look at this demo to give you an idea of how it looks&lt;/a&gt;
&lt;/h2&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-5&#34;&gt;
What smart devices should I use?
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;This is probably the most important part, since it will later define the integrations in your HomeAssistant.&lt;/p&gt;
&lt;p&gt;
Most popular devices are the SonOff switches, bases on ESP chips, that work with the eWeLink App, then is probably Tuya devices, based now on Beken chips that work with Tuya Smart App and Smar Life App. You&amp;#39;ll be safe with this devices, later I&amp;#39;ll write about how to re-flash some devices to avoid using the apps like eWeLink and Tuya.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-6&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-6&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-6&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;I just covered quickly HomeAssistant, since there is plenty of information about it and the &lt;a href=&#34;community&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;community&lt;/span&gt;&lt;/a&gt; is very active.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can integrate Google home and alexa and make use of voice commands.&lt;/li&gt;
&lt;li&gt;There are alternatives like &lt;a href=&#34;https://www.openhab.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;OpenHAB&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://www.domoticz.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Domoticz&lt;/span&gt;&lt;/a&gt; or &lt;a href=&#34;https://homebridge.io/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Homebridge&lt;/span&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Remember, you must run HomeAssistant 24/7 to work correctly, so a low power consumption hardware is recommended (like the raspberry pi).&lt;/li&gt;
&lt;li&gt;I just wanted to bring HomeAssistant to your radar, I hope this post helped.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homeassistant/">homeassistant</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/smarthome/">smarthome</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/server/">server</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/remote/">remote</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/smart/">smart</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/iot/">iot</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/homeassistant/">homeassistant</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Headscale, how to self-host tailscale</title>
                <link>https://earvingad.github.io/posts/headscale/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/headscale/</guid>
                <pubDate>Sat, 25 Feb 2023 12:15:56 -0600</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
&lt;figure&gt;&lt;img src=&#34;https://raw.githubusercontent.com/juanfont/headscale/main/docs/logo/headscale3_header_stacked_left.png&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;
Previously, we spoke of how easy is to set a mesh network between your devices with &lt;a href=&#34;https://earvingad.github.io/posts/tailscale/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;tailscale&lt;/span&gt;&lt;/a&gt;. Usually, that will work for most of the people, but in the view that you are using a third party server that might log your activity you would probably want to avoid that and maybe self host the mesh management (there are huge communities that like to &lt;a href=&#34;https://www.reddit.com/r/selfhosted/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;selfhost&lt;/span&gt;&lt;/a&gt; this kind of services of their &lt;a href=&#34;https://www.reddit.com/r/homelab/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;homelab&lt;/span&gt;&lt;/a&gt;). Luckily, &lt;a href=&#34;https://github.com/juanfont/headscale&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;headscale&lt;/span&gt;&lt;/a&gt; exist as &lt;em&gt;An open source, self-hosted implementation of the Tailscale control server.&lt;/em&gt; It has support for most of the OS&amp;#39;s&lt;/p&gt;
&lt;p&gt;
Of course, tailscale is more robust and sophisticated. Headscale only makes use of a single tailnet which is enough for a single organization or your homelab.&lt;/p&gt;
&lt;p&gt;
So we are goint to install headscale assuming the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You have a VPS that will host headscale running 24/7 and is running Linux (Ubuntu 22.04 is the one I use now).&lt;/li&gt;
&lt;li&gt;Headscale will be run using the root user.&lt;/li&gt;
&lt;li&gt;You have created a DNS entry that redirects to your VPS address (see &lt;a href=&#34;https://earvingad.github.io/posts/duckdns/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;DuckDNS&lt;/span&gt;&lt;/a&gt; entry if you haven&amp;#39;t).&lt;/li&gt;
&lt;li&gt;Your homelab is behind a NAT not able to forward ports.&lt;/li&gt;
&lt;li&gt;You have time and want to access your homelab from your phone.&lt;/li&gt;
&lt;/ol&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Install Headscale
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;On your VPS open TCP ports 80, 443 and 8080 and UDP ports 41641 and 3478 (this is optional to set a DERP relay and you can select another.&lt;/li&gt;
&lt;li&gt;Then download the binary for your platform from the &lt;a href=&#34;https://github.com/juanfont/headscale/releases&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;releases section&lt;/span&gt;&lt;/a&gt; and save it in the bin path (usually &lt;code class=&#34;verbatim&#34;&gt;/usr/local/bin/&lt;/code&gt; in ubuntu).&lt;/li&gt;
&lt;li&gt;Make it executable &lt;code class=&#34;verbatim&#34;&gt;sudo chmod +x /usr/local/bin/headscale&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create database directory: &lt;code class=&#34;verbatim&#34;&gt;sudo mkdir -p /var/lib/headscale&lt;/code&gt; and an empty database &lt;code class=&#34;verbatim&#34;&gt;sudo touch /var/lib/headscale/db.sqlite&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;And finally create the directory for configuration: &lt;code class=&#34;verbatim&#34;&gt;sudo mkdir -p /etc/headscale&lt;/code&gt; with its configuration &lt;code class=&#34;verbatim&#34;&gt;sudo touch /etc/headscale/config.yaml&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now, for the configuration you can use &lt;a href=&#34;https://github.com/juanfont/headscale/blob/main/config-example.yaml&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;this template&lt;/span&gt;&lt;/a&gt; and we need to change the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;server_url: http://127.0.0.1:8080&lt;/code&gt; Change this for your public domain created with duckdns. For exaple: &lt;code class=&#34;verbatim&#34;&gt;server_url: https://enchilada.duckdns.org:8080&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;listen_addr: 127.0.0.1:8080&lt;/code&gt; Change it to listen all addresses: &lt;code class=&#34;verbatim&#34;&gt;listen_addr: 0.0.0.0:8080&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;ip_prefixes:&lt;/code&gt; Here you can modify the subdomain your layer network will have. The default is: &lt;code class=&#34;verbatim&#34;&gt;100.64.0.0/10&lt;/code&gt; This means that the connected devices will addresses like &lt;code class=&#34;verbatim&#34;&gt;100.64.0.2&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;derp:&lt;/code&gt; This is optional, if enabled the headscale server will act as a relay as well and it will be added to the plublic available derp servers from tailnet. By default DERP server is disabled, if you want it change it to &lt;code class=&#34;verbatim&#34;&gt;enabled: true&lt;/code&gt;. Read &lt;a href=&#34;https://tailscale.com/kb/1232/derp-servers/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;here&lt;/span&gt;&lt;/a&gt; for more info.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;tls_letsencrypt_hostname: &amp;#34;&amp;#34;&lt;/code&gt; Add your domins like: &lt;code class=&#34;verbatim&#34;&gt;tls_letsencrypt_hostname: &amp;#34;enchilada.duckdns.org&amp;#34;&lt;/code&gt; This is the domain name to request a TLS certificate from LetsEncrypt.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;tls_letsencrypt_cache_dir:&lt;/code&gt; &lt;del&gt;&lt;code class=&#34;verbatim&#34;&gt;./cache&lt;/code&gt; Change it to &lt;code class=&#34;verbatim&#34;&gt;tls_letsencrypt_cache_dir: /var/lib/headscale/cache&lt;/code&gt;&lt;/del&gt; This is where the TLS certificate will be saved. It is already default to &lt;code class=&#34;verbatim&#34;&gt;/var/lib/headscale/cache&lt;/code&gt; &lt;a href=&#34;https://github.com/juanfont/headscale/commit/b684ac06680117b61a6155915380002addd385d8#diff-0997963b54113de6bb19667e1ad7c561a2e6cbba874d4fe671c3e116252f3d25&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;commit b684ac0&lt;/span&gt;&lt;/a&gt; Thanks to &lt;a href=&#34;https://github.com/7kn&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;7kn&lt;/span&gt;&lt;/a&gt; for pointing this out.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;dns_config:&lt;/code&gt; Here add the DNS server you&amp;#39;d like, by default there is only &lt;code class=&#34;verbatim&#34;&gt;1.1.1.1&lt;/code&gt; in the &lt;code class=&#34;verbatim&#34;&gt;nameservers:&lt;/code&gt; section.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;base_domain: example.com&lt;/code&gt; This is for &lt;a href=&#34;https://tailscale.com/kb/1081/magicdns/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;MagisDNS&lt;/span&gt;&lt;/a&gt; feature, change it to &lt;code class=&#34;verbatim&#34;&gt;enchilada.duckdns.org&lt;/code&gt; Now it will create an entry for devices like: &lt;code class=&#34;verbatim&#34;&gt;phone.enchilada.duckdns.org&lt;/code&gt; that will be reachable for the devices connected.&lt;/li&gt;
&lt;li&gt;Before first starting headscale, run &lt;code class=&#34;verbatim&#34;&gt;sudo mkdir -p /var/run/headscale&lt;/code&gt; since the socket was moved in a &lt;a href=&#34;https://github.com/juanfont/headscale/commit/5706f84cb0645af2aad1087a10b5b41e14f508e6&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;recent update&lt;/span&gt;&lt;/a&gt;. Thanks to &lt;a href=&#34;https://github.com/7kn&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;7kn&lt;/span&gt;&lt;/a&gt; for pointing this out.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now you can run it with &lt;code class=&#34;verbatim&#34;&gt;sudo headscale serve&lt;/code&gt; to start the server. See &lt;a href=&#34;https://github.com/juanfont/headscale/blob/main/docs/running-headscale-linux.md#running-headscale-in-the-background-with-systemd&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;here&lt;/span&gt;&lt;/a&gt; how to create a SystemD service to running it in the background and enable it at boot.&lt;/p&gt;
&lt;p&gt;
You can check with &lt;code class=&#34;verbatim&#34;&gt;curl http://127.0.0.1:9090/metrics&lt;/code&gt; that everything went well and then create the network (&lt;a href=&#34;https://tailscale.com/kb/1136/tailnet/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;tailnet&lt;/span&gt;&lt;/a&gt;) where you registered devices will communicate (replace &lt;em&gt;mynet&lt;/em&gt; with the name you want):&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo headscale users create mynet&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Join devices
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;In order to joint to &lt;em&gt;mynet&lt;/em&gt; network, you can use the official tailscale app and run:&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-3&#34;&gt;
Linux and OpenWrt
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Simple login can be done with:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo tailscale up --login-server&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;https://enchilada.duckdns.org:8080/ &lt;span class=&#34;c1&#34;&gt;#Of course replace with your domain&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;If you want to expose your local subnet (devices connected to your OpenWrt router) you should add the flag &lt;code class=&#34;verbatim&#34;&gt;--advertise-routes=192.168.1.0/24&lt;/code&gt;. If you are running OpenWrt 22.03 or later, you need to add the flag &lt;code class=&#34;verbatim&#34;&gt;--netfilter-mode=off&lt;/code&gt; and configure the firewall rules, due to tailscale uses still &lt;code class=&#34;verbatim&#34;&gt;iptables&lt;/code&gt; and latest versions of OpenWrt switched to &lt;code class=&#34;verbatim&#34;&gt;nftables&lt;/code&gt;. See &lt;a href=&#34;https://openwrt.org/docs/guide-user/services/vpn/tailscale/start#openwrt_2203_issue&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;issue here&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-4&#34;&gt;
Android
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Here, how to use a custom server in the official &lt;a href=&#34;https://github.com/tailscale/tailscale-android/pull/55&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;tailscale-android&lt;/span&gt;&lt;/a&gt; app.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-5&#34;&gt;
Registrations to headscale
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Now, everytime that you add a device with one of the steps above, you will be redirect to a webpage with instructions like this:
&lt;figure&gt;&lt;img src=&#34;https://blog.gurucomputing.com.au/smart-vpns-with-headscale/04-configuring-the-headscale-ui-08.png&#34;
         alt=&#34;Image taken from the GuruComputingBlog.&#34;/&gt;&lt;figcaption&gt;
            &lt;p&gt;Image taken from the GuruComputingBlog.&lt;/p&gt;
        &lt;/figcaption&gt;
&lt;/figure&gt;

The instruction tells you to run the following command (as sudo in our case) in our headscale server:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo headscale --user NAMESPACE nodes register --key &amp;lt;a-fuckin-long-key&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Replace &lt;code class=&#34;verbatim&#34;&gt;NAMESPACE&lt;/code&gt; with &lt;em&gt;mynet&lt;/em&gt; or the name you gave to your net and that&amp;#39;s it.&lt;/p&gt;
&lt;p&gt;
You can check the list of devices (or nodes) by running the following in the headscale server&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo headscale nodes list&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-6&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-6&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-6&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;The &lt;a href=&#34;https://blog.gurucomputing.com.au/smart-vpns-with-headscale/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Guru Computing blog&lt;/span&gt;&lt;/a&gt; has a nice tutorial for setting headscale.&lt;/li&gt;
&lt;li&gt;Tailscale/headscale use &lt;a href=&#34;https://tailscale.com/blog/how-nat-traversal-works/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;NAT transversal&lt;/span&gt;&lt;/a&gt; techniques to establish direct connection between devices and avoid DERP relay servers. I haven&amp;#39;t been able to see this working, at least from Phone-to-OpenWrt(router) and have not been able to test another devices since my network is very small.&lt;/li&gt;
&lt;li&gt;DERP servers are only used when no direct connection can not be established. This will add latency depending on the DERP server.&lt;/li&gt;
&lt;li&gt;Tailscale/headscale do not use the WireGuard kernel module, but the &lt;a href=&#34;https://tailscale.com/blog/how-tailscale-works/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;userspace implementation in go&lt;/span&gt;&lt;/a&gt;. Kernel module should, in theory, perform better than the userspace implementation. However, in practice you might not be able to tell the difference unless you are a hardcoded IT guy.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/tailscale/">tailscale</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/headscale/">headscale</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/netmaker/">netmaker</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/zerotier/">zerotier</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/ssh/">ssh</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/vpn/">vpn</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>DuckDNS, forget your ip</title>
                <link>https://earvingad.github.io/posts/duckdns/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/duckdns/</guid>
                <pubDate>Thu, 23 Feb 2023 20:51:55 -0600</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://www.duckdns.org/img/ducky_icon.png&#34;/&gt;
&lt;/figure&gt;

&lt;em&gt;Duck DNS is a free service which will point a DNS (sub domains of duckdns.org) to an IP of your choice.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;
In other words, you can create:&lt;/p&gt;
&lt;div class=&#34;center-block&#34; style=&#34;text-align: center; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;p&gt;yourverycoolandawesomewebsitethatnooneknowsabout.duckdns.org&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;that will point to the ip of your homelab or VPS.&lt;/p&gt;
&lt;p&gt;
Why? Well, I already wrote about how to access remotely to your homelab &lt;a href=&#34;https://earvingad.github.io/posts/torssh/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;using the Tor network&lt;/span&gt;&lt;/a&gt;. Also how it can be simplified using &lt;a href=&#34;https://earvingad.github.io/posts/tailscale/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tailscale&lt;/span&gt;&lt;/a&gt; and to avoid sending data to tailscale servers you could use &lt;a href=&#34;https://github.com/juanfont/headscale&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;headscale&lt;/span&gt;&lt;/a&gt; to selfhost.&lt;/p&gt;
&lt;p&gt;
So, usually you will ssh your homelab with:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh user@ip-of-the-server&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Where the ip-of-the-server will be something like &lt;code class=&#34;verbatim&#34;&gt;186.120.64.13&lt;/code&gt; and if you do not have a static ip, it will change to a different one every certain time, which will be difficult to keep track. In order to avoid this hassle, it is easier to create a DNS entry and configure your home server to update automatically the ip. Here is where DuckDNS comes in play.&lt;/p&gt;
&lt;p&gt;
DuckDNS allows you to create up to 5 sites for free and provides easy to use &lt;a href=&#34;https://www.duckdns.org/install.jsp&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;scripts to update&lt;/span&gt;&lt;/a&gt; the ip. All you need is to register using a twitter, github or google account to obtain your token and then you can create your domain like: &lt;code class=&#34;verbatim&#34;&gt;enchilada.duckdns.org&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
Now you could ssh to your homelab like:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh user@enchilada.duckdns.org&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
Now it won&amp;#39;t matter if your homelab changes the ip, &lt;code class=&#34;verbatim&#34;&gt;enchilada.duckdns.org&lt;/code&gt; will always redirect to the correct one. This is also usefull if you want to host a website.&lt;/p&gt;
&lt;p&gt;
I would go into detail of how to install the script, but you can check the instructions and practically do copy and paste. They have instructions for windows, linux, osx and even routers running OpenWrt, dd-wrt or a synology NAS.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;There are other dynamic DNS (DDNS) providers like &lt;a href=&#34;https://www.noip.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;noip&lt;/span&gt;&lt;/a&gt;, that will allow you up to 3 free domains and another paid options.&lt;/li&gt;
&lt;li&gt;Next topics: create a free WireGuard hub server with Oracle Cloud free tier and how to set up headscale on the free Oracle Cloud free tier and making use of DuckDNS.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/dns/">dns</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/ip/">ip</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/server/">server</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/remote/">remote</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/duckdns/">duckdns</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Netdata, real-time server monitoring</title>
                <link>https://earvingad.github.io/posts/netdata/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/netdata/</guid>
                <pubDate>Fri, 02 Sep 2022 13:06:12 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
If you have a server, you know it is useful to have information of your server to troubleshoot and detect problems or bad configurations, usage of the CPU, ram, network and health of the HDD.&lt;/p&gt;
&lt;p&gt;
There are plenty of options: &lt;a href=&#34;https://mmonit.com/monit/&#34;&gt;monit&lt;/a&gt;, &lt;a href=&#34;https://www.monitorix.org/&#34;&gt;monitorix&lt;/a&gt;, &lt;a href=&#34;https://munin-monitoring.org/&#34;&gt;munin&lt;/a&gt;, &lt;a href=&#34;https://github.com/netdata/netdata&#34;&gt;Netdata&lt;/a&gt; and &lt;a href=&#34;https://grafana.com&#34;&gt;Grafana&lt;/a&gt; (coupled with one data collector like: &lt;a href=&#34;https://collectd.org/&#34;&gt;collectd&lt;/a&gt;, &lt;a href=&#34;https://github.com/influxdata/influxdb&#34;&gt;influxdb&lt;/a&gt;, &lt;a href=&#34;https://graphiteapp.org/&#34;&gt;Graphite&lt;/a&gt; or &lt;a href=&#34;https://prometheus.io/&#34;&gt;Prometheus&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;
Despite Grafana is one of the most popular choices, I decided to use Netdata, since it is pre-configured out of the box and it does both collect data and create graphs displayed through a http server. It is lightweight that will only require 1% CPU usage and around 12 MiB of RAM (at least in my OpenWrt router). Munin is my second choice, but decided to go with Netdata just because it just worked fine after install without too much hassle to configure.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://github.com/netdata/netdata&#34;&gt;Netdata&lt;/a&gt; is a real-time performance and health monitoring tool. It can run on all your physical/virtual servers, containers, cloud deployments, and edge/IoT devices. Out of the box it generates lots of graphs in a default dashboard and you can create your own dashboard to show the specific graphs you are more interested to.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Installing Netdata
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Netdata is like a single binary, so just install it like:&lt;/p&gt;
&lt;p&gt;
Archlinux:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pacman -S netdata&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
OpenWrt:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;opkg update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;opkg install netdata&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
And finally start the daemon
Archlinux:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; netdata.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl start netdata.service&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
OpenWrt:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/netdata &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/netdata start&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-2&#34;&gt;
Configure
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;There is not much to configure, really. You can access &lt;code class=&#34;verbatim&#34;&gt;http://localhost:19999/&lt;/code&gt; (where localhost can be substituted by the ip of your server) and will take you to the default dashboard.&lt;/p&gt;
&lt;p&gt;
For OpenWrt config file is already optimized for low resources devices.&lt;/p&gt;
&lt;p&gt;
What you might want to do is create a custom dashboard that fits the most important metrics you want to follow quickly.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Custom Dashboard
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Simple dashboards are written in HTML, so you might need basic knowledge of html. More complicated dashboards can be written in javascript, but in my case html is just fine.&lt;/p&gt;
&lt;p&gt;
First look at the template &lt;a href=&#34;http://netdata.firehol.org/dashboard.html&#34;&gt;here&lt;/a&gt; (you can also see all the supported graphs) and &lt;a href=&#34;http://netdata.firehol.org/tv.html&#34;&gt;here&lt;/a&gt; (view the page source at the latter). You can see the blocks contained between the &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;div &amp;#34;content&amp;#34; &amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;. This will be used to add graphs to the dashboard, and the &amp;#34;content&amp;#34; will include variables like the unique id, width, height, type of graph.&lt;/p&gt;
&lt;p&gt;
Be sure to put these &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;div&amp;gt;&lt;/code&gt; blocks inside the &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;body&amp;gt; &amp;lt;/body&amp;gt;&lt;/code&gt; of the html file. Also replace your server ip in the &lt;code&gt;&amp;lt;script type=&amp;#34;text/javascript&amp;#34; src=&amp;#34;http://netdata.server:19999/dashboard.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt; section&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-4&#34;&gt;
Identify the IDs
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Unique IDs reffer to the part of the system or metric being monitored. It could be &lt;code class=&#34;verbatim&#34;&gt;system.cpu&lt;/code&gt; (for CPU usage), &lt;code class=&#34;verbatim&#34;&gt;system.ram&lt;/code&gt; (ram usage), &lt;code class=&#34;verbatim&#34;&gt;net.eth1&lt;/code&gt; (bandwith monitor on interface eth1), &lt;code class=&#34;verbatim&#34;&gt;disk.sda&lt;/code&gt; (Disk I/O Bandwidth in sda disk), etc.&lt;/p&gt;
&lt;p&gt;
You can check the full existing IDs being monitored in &lt;code class=&#34;verbatim&#34;&gt;http://your.server.ip:19999/api/v1/charts&lt;/code&gt; and expand the &lt;code class=&#34;verbatim&#34;&gt;charts&lt;/code&gt; section. The ID is declared as:&lt;/p&gt;
&lt;div class=&#34;src src-html&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;data-netdata&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;system.cpu&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-5&#34;&gt;
Type of graph
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;The default chart library is dygraph, but you can set a different chart library per chart using &lt;code class=&#34;verbatim&#34;&gt;data-chart-library&lt;/code&gt;. The graphs can be     dygraph, d3, d3pie, gauge, google, easypiechart, peity, sparkline and text-only. The documentation is not very clear on how to use each graph, but mostly dygraph, easypiechart, d3pie and gauge will give you most the graphical input needed. The type of graph is declared as:&lt;/p&gt;
&lt;div class=&#34;src src-html&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;data-netdata&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;net.eth1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-chart-library&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;dygraph&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-6&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-6&#34;&gt;
Other attributes
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-6&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;You can specify other attributes such as tittle, colors, height and width to prettify the dashboard.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Title: Will override default tittle text &lt;code&gt;data-title=&amp;#34;my super chart&amp;#34;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Colors: By default, netdata uses an internal palette of colors for the dimensions of the charts. You can prepend colors to it (so that your will be used first) using this &lt;code&gt;data-colors=&amp;#34;#AABBCC #DDEEFF ...&amp;#34;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Height and with: You can specify a custom height and width and it can be anything CSS accepts for width and height (e.g. percentages, pixels, etc) &lt;code&gt;data-width=&amp;#34;WIDTH&amp;#34;&lt;/code&gt; and &lt;code&gt;data-height=&amp;#34;HEIGHT&amp;#34;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Data points: For the time-frame requested, netdata will use the chart dimensions and the settings of the chart library to find out how many data points it can show. A default dygraph will show 10 min of data (600 s), you can set the data point to 300 in order to update the graph every 2 s &lt;code&gt;data-points=&amp;#34;300&amp;#34;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Data dimensions: By default, a netdata graph will show all the dimensions of the chart. You can select specific dimensions using this &lt;code&gt;data-dimensions=&amp;#34;dimension1,dimension2,dimension3,...&amp;#34;&lt;/code&gt; You can check all the dimensions by expanding the ID in the &lt;code class=&#34;verbatim&#34;&gt;chart&lt;/code&gt; section in &lt;code class=&#34;verbatim&#34;&gt;http://your.server.ip:19999/api/v1/charts&lt;/code&gt;. For example, &lt;code class=&#34;verbatim&#34;&gt;net.eth1&lt;/code&gt; dimensions are &lt;code class=&#34;verbatim&#34;&gt;received&lt;/code&gt; and &lt;code class=&#34;verbatim&#34;&gt;sent&lt;/code&gt;. This attribute is useful for graphs like pie or gauge to display an specific dimension of a metric.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In summary, you could have a dygraph and gauge like this:&lt;/p&gt;
&lt;div class=&#34;src src-html&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;data-netdata&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;disk.sda&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Read-Write sda&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-chart-library&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;dygraph&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-width&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;80%&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-height&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;100%&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-points&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;300&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;data-netdata&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;net.eth1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-title&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Received data&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-dimensions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;received&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-chart-library&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;gauge&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-width&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20%&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-height&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;100%&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;na&#34;&gt;data-points&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;300&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-7&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-7&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-7&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Netdata is simple to install and use, since it is pre-configured.&lt;/li&gt;
&lt;li&gt;If you need a more robust tool, you might take a look at the Grafana and influxdb.&lt;/li&gt;
&lt;li&gt;You can enable more plugins such as &lt;a href=&#34;https://learn.netdata.cloud/docs/agent/collectors/python.d.plugin/smartd_log&#34;&gt;netdata S.M.A.R.T. attributes plugin&lt;/a&gt; to monitor HDD/SDD health.&lt;/li&gt;
&lt;li&gt;As a health monitor, Netdata comes with some configured alarms that will trigger warnings in the default dashboard but you can also set &lt;a href=&#34;https://learn.netdata.cloud/docs/agent/health/notifications/email&#34;&gt;email notifications&lt;/a&gt; and even &lt;a href=&#34;https://learn.netdata.cloud/docs/agent/health/notifications/telegram&#34;&gt;telegram notifications&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Finally, &lt;a href=&#34;https://gist.github.com/earvingad/15da512f770e4de7245cc7f4345d84cf&#34;&gt;here&lt;/a&gt; are some examples of my own custom dashboard (below screenshots using my phone), one is used for my media server and the other on my OpenWrt router.&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/NetdataServer.png&#34;/&gt;
&lt;/figure&gt;
&lt;/td&gt;
&lt;td&gt;&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/NetdataOpenWrt.png&#34;/&gt;
&lt;/figure&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/netdata/">netdata</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/server/">server</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/data/">data</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/monitor/">monitor</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Tailscale, making WireGuard simpler for home networks</title>
                <link>https://earvingad.github.io/posts/tailscale/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/tailscale/</guid>
                <pubDate>Mon, 06 Jun 2022 19:46:42 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;&lt;figure&gt;&lt;img src=&#34;https://tailscale.com/static/images/marketing/home-illustration-2080w.webp&#34;/&gt;
&lt;/figure&gt;

Recently I wrote about how to use the Tor network as a free VPN and how to make as secure as possible in the &lt;a href=&#34;https://earvingad.github.io/posts/torssh/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tor a hidden friend to SSH your home network&lt;/span&gt;&lt;/a&gt; entry. However, I recommended to use &lt;a href=&#34;https://www.wireguard.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;WireGuard&lt;/span&gt;&lt;/a&gt; to connect securely and fast to your home network if you could set port forwarding on your router and leave Tor as a last option, since it is slow and its main goal is to serve as a circumvent censorship tool rather than a VPN.&lt;/p&gt;
&lt;p&gt;
The other option was to pay and make use of a VPS and here is where &lt;a href=&#34;https://tailscale.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tailscale&lt;/span&gt;&lt;/a&gt; comes into play and from their website: Tailscale is&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;a VPN service that makes the devices and applications you own accessible anywhere in the world, securely and effortlessly. It enables encrypted point-to-point connections using the open source WireGuard protocol, which means only devices on your private network can communicate with each other&lt;/em&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
So Tailscale is a VPN that uses WireGuard, which means it is fast and secure. But WireGuard is used by other VPN providers… well the difference is that &lt;em&gt;Unlike traditional VPNs, which tunnel all network traffic through a central gateway server, Tailscale creates a peer-to-peer mesh network (called a tailnet)&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;
So, in short it &amp;#34;removes the man in the middle&amp;#34; (VPN hub) and allows your phone to connect directly to your Plex server, without routing in between.&lt;br&gt;
Here I am saying that it &amp;#34;removes the man in the middle&amp;#34;, but it is not completely true, since you have to login all your devices into the tailscale website through their app, so it is not completely private. The app will take care of all the needed configurations, this is the great thing because all you just need to do is to login. You will not need open ports and/or configure forwardings.&lt;/p&gt;
&lt;p&gt;
It might not be completely private and it does not fully removes the man in the middle, but for now it is free, you can register for 1 account and login until 20 devices.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Tailscale install on OpenWrt
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;You can install the app on every devices you want (remember you are limited to 20 in a free account) and by authorizing the login the website each device will be able to communicate between them directly.&lt;/p&gt;
&lt;p&gt;
Installation is very simple, as they claim it is a &lt;em&gt;&lt;strong&gt;Zero config VPN&lt;/strong&gt;&lt;/em&gt; and &lt;em&gt;&lt;strong&gt;A secure network that just works&lt;/strong&gt;&lt;/em&gt;. Go ahead and create your tailscale account first.&lt;/p&gt;
&lt;p&gt;
On OpenWrt you just have to run the following commands (or install it through Luci):&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;opkg update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;opkg install tailscale tailscaled&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
Once completed, enable the daemon and start it:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/tailscale &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/tailscale start&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now simply run:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tailscale up&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A link will show, go to that link in your browser and login. &lt;em&gt;et voila!&lt;/em&gt; the OpenWrt router is completely registered.&lt;/p&gt;
&lt;p&gt;
Since version 22.03 of OpenWrt you need to add the flag &lt;code class=&#34;verbatim&#34;&gt;--netfilter-mode=off&lt;/code&gt; and configure the firewall rules, due to OpenWrt uses now &lt;a href=&#34;https://openwrt.org/docs/guide-user/services/vpn/tailscale/start#openwrt_2203_issue&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;nftables&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Tailscale on Android
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Yeah, just go to the Play Store, install the app and login. &lt;em&gt;C&amp;#39;est tout&lt;/em&gt;!&lt;br&gt;
Once logged in, start it, you will see your OpenWrt router. You can tap the router name to copy the address, paste it in the browser and you will be directed to the Luci page (assuming yours is OpenWrt).&lt;/p&gt;
&lt;p&gt;
You can repeat this within all your servers, &lt;em&gt;it just works&lt;/em&gt;!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Alternatives
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-4&#34;&gt;
headscale
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;If you are able to set a VPS or can do port forwarding and are willing the keep running 24/7 a server, you could set &lt;a href=&#34;https://github.com/juanfont/headscale&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;headscale&lt;/span&gt;&lt;/a&gt;, which is &lt;em&gt;an open source, self-hosted implementation of the Tailscale control server.&lt;/em&gt; This way you will be in full control of your devices without the need to register to tailscale. Using tailscale apps will work with headscale. &lt;del&gt;Android app will not work, you will have to compile it your self or as explained &lt;a href=&#34;https://icloudnative.io/posts/how-to-set-up-or-migrate-headscale/#android&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;in this post from icloudnative (in chinese)&lt;/span&gt;&lt;/a&gt;, you could use the &lt;a href=&#34;https://github.com/FZR-forks/tailscale-android&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;FZR-forks Tailscale Android Client&lt;/span&gt;&lt;/a&gt; (look in the Actions section to download the last compiled version) that allow custom urls for the Tailscale control server. This way the Android app will work.&lt;/del&gt;&lt;sup class=&#34;footnote-reference&#34;&gt;&lt;a id=&#34;footnote-reference-1&#34; href=&#34;https://earvingad.github.io/posts/tailscale/#footnote-1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-5&#34;&gt;
Netmaker
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Another alternative is &lt;a href=&#34;https://github.com/gravitl/netmaker&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Netmaker&lt;/span&gt;&lt;/a&gt;, which does practically the same as tailscale or headscale using the WireGuard protocol. As headscale, you will need a VPS or perform port forwarding to keep your server running 24/7 the control server. They have app support for Linux, FreeBSD, Windows, Mac, etc… and for the ones that do not have app support, the official WireGuard app can be used without problem.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-6&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-6&#34;&gt;
ZeroTier
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-6&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;There is also &lt;a href=&#34;https://www.zerotier.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;ZeroTier&lt;/span&gt;&lt;/a&gt;, which will do the same as the previous but without WireGuard. ZeroTier offers a self hosted controller (as headscale and Netmaker), a free ZeroTier Hosted Controller (as tailscale) and professional/enterprice plans. ZeroTier has support for practically all platforms.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-7&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-7&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-7&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;I have installed Tailscale now in my OpenWrt router, where I connect, using my phone, to access the &lt;a href=&#34;https://github.com/ziahamza/webui-aria2&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;webui-aria2&lt;/span&gt;&lt;/a&gt; (or you can choose &lt;a href=&#34;https://github.com/mayswind/AriaNg/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;AriaNg&lt;/span&gt;&lt;/a&gt; or &lt;a href=&#34;https://github.com/jjling2011/AriaNgMod&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;jjling2011&amp;#39;s AriaNgMod&lt;/span&gt;&lt;/a&gt;), so I can download Linux ISOs when I am away from home and will be ready when I arrive.&lt;/li&gt;
&lt;li&gt;I also have Wake-on-Lan (WoL) on the OpenWrt, which I use to wake a &lt;a href=&#34;https://www.plex.tv/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Plex&lt;/span&gt;&lt;/a&gt; server when I need it, since I do not like to have it powered on 24/7.&lt;/li&gt;
&lt;li&gt;Tailscale uses WireGuard, so all traffic is encrypted and it is faster that OpenVPN and IPsec.&lt;/li&gt;
&lt;li&gt;It is unsure how long the free service of Tailscale will last, you might have to pay later a fee to keep using it, but for now use it as much as you can. Remember that you have to create an account, so data usage might be sent to a third party.&lt;/li&gt;
&lt;li&gt;Tailscale was founded in 2019, while WireGuard has been under development since 2015/2016. Yeah, WireGuard is relatively new but has proved to be effective.&lt;/li&gt;
&lt;li&gt;By default Tailscale will only create an overlay to route traffic within devices, but will not touch the public traffic of the devices. You can configure an &lt;a href=&#34;https://tailscale.com/kb/1103/exit-nodes/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;exit node&lt;/span&gt;&lt;/a&gt; so all the public traffic would be routed to one device to perform the internet connection, like a normal VPN.&lt;/li&gt;
&lt;li&gt;My ISP refuse to open ports in the router that sold me and I hate it for that. I will insist again so I can configure WireGuard peer-to-peer without any third party.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-8&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-8&#34;&gt;
Footnotes
&lt;/h2&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr class=&#34;footnotes-separatator&#34;&gt;
&lt;div class=&#34;footnote-definitions&#34;&gt;
&lt;div class=&#34;footnote-definition&#34;&gt;
&lt;sup id=&#34;footnote-1&#34;&gt;&lt;a href=&#34;https://earvingad.github.io/posts/tailscale/#footnote-reference-1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;
&lt;div class=&#34;footnote-body&#34;&gt;
&lt;p&gt;Actually now, the official Tailscale android app allows you to select a custom server to make it work with headscale.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/tailscale/">tailscale</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/headscale/">headscale</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/netmaker/">netmaker</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/zerotier/">zerotier</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/ssh/">ssh</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/vpn/">vpn</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Tor a hidden friend to SSH your home network</title>
                <link>https://earvingad.github.io/posts/torssh/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/torssh/</guid>
                <pubDate>Sun, 22 May 2022 18:55:17 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
&lt;figure&gt;&lt;img src=&#34;https://www.torproject.org/static/images/tor-project-logo-onions.png&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;
You might had heard of the &lt;a href=&#34;https://en.wikipedia.org/wiki/Dark_web&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Dark web&lt;/span&gt;&lt;/a&gt; or the &lt;a href=&#34;https://en.wikipedia.org/wiki/Deep_web&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Deep web&lt;/span&gt;&lt;/a&gt;, well the first one is just a small part of the latter. The Dark web is populated with darknets which &lt;em&gt;is an overlay network within the Internet that can only be accessed with specific software, configurations, or authorization&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;
These darknets can be small peer-to-peer networks or large as the &lt;a href=&#34;https://geti2p.net/en/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;I2P Anonymous Network&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://freenetproject.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Freenet&lt;/span&gt;&lt;/a&gt; and the most popular &lt;a href=&#34;https://www.torproject.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Tor Project&lt;/span&gt;&lt;/a&gt;. In this case, we will focus in the Tor network and how to use it to connect to your home network for remote control.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Why Tor and not a safer choice: WireGuard
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;If you have a public IP on your router (and you are able to set &lt;a href=&#34;https://en.wikipedia.org/wiki/Port_forwarding&#34;&gt;Port forwarding&lt;/a&gt;), I highly encourage the use of &lt;a href=&#34;https://www.wireguard.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;WireGuard&lt;/span&gt;&lt;/a&gt; which is a fast, modern and secure VPN tunnel to connect to your home network. It encrypts all data and is faster than we will experience with the Tor network (and it is even &lt;a href=&#34;https://www.wireguard.com/performance/&#34;&gt;faster&lt;/a&gt; than other alternatives such as OpenVPN and IPSec, without compromising security). And with the help of a &lt;a href=&#34;https://en.wikipedia.org/wiki/Dynamic_DNS&#34;&gt;Dynamic DNS&lt;/a&gt; (DDNS) you could easily connect to your home network even if you have a dynamic IP.&lt;/p&gt;
&lt;p&gt;
On the other hand, you could rent a &lt;a href=&#34;https://en.wikipedia.org/wiki/Virtual_private_server&#34;&gt;Virtual private server&lt;/a&gt; (VPS), connect both your home network and client devices (e.g. your phone) to the VPS and forward, within the VPS, all the traffic from the client devices to your home network. However, this implies that you have to pay monthly fee for the rent. If you can afford it, go for it, if not keep reading.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Tor network
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;The main reason to use of tor is user privacy, circumvent censorship and surveillance by means of encryption and layers. Therefore, it is not recommended to be implemented for other uses such as streaming, file sharing and more, due to slow speed performance (because the relays, multiple ips, blah blah).&lt;/p&gt;
&lt;p&gt;
The Tor network is a free, worldwide, volunteer overlay network, consisting of more than six thousand relays and can be accessed through the tor software and easily with the &lt;a href=&#34;https://www.torproject.org/download/&#34;&gt;Tor browser&lt;/a&gt;. On android it is also available &lt;a href=&#34;https://en.wikipedia.org/wiki/Orbot&#34;&gt;Orbot&lt;/a&gt; from the playstore or F-droid.&lt;/p&gt;
&lt;p&gt;
Tor websites, better known as: onion services or hidden services, can only be accessed when connected to the tor network and are not the usual &lt;code class=&#34;verbatim&#34;&gt;.com&lt;/code&gt; sites, but more like &lt;code class=&#34;verbatim&#34;&gt;duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion&lt;/code&gt; which is the onion site for &lt;a href=&#34;https://duckduckgo.com/&#34;&gt;DuckDuckGo&lt;/a&gt;. You can create your own onion/hidden service which will be available only through the tor network. This can be the equivalent as creating a website and then expose it to the normal internet (by the means of a VPS, DDNS, etc).&lt;/p&gt;
&lt;p&gt;
With this in mind, we will create our own onion service and we will use it to access our home network via SSH as secure as possible.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
OpenWrt and Tor
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;In this case we will create the onion service in a OpenWrt router and since OpenWrt is Linux, and Linux is free and open source, installing a free software like Tor is one of the simplest task. I am using the &lt;a href=&#34;https://openwrt.org/docs/guide-user/services/tor/hs&#34;&gt;OpenWrt official guide&lt;/a&gt; for this matter.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Update the list of packages: &lt;code class=&#34;verbatim&#34;&gt;opkg update&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install the needed packages: &lt;code class=&#34;verbatim&#34;&gt;opkg install tor-hs openssl-util coreutils-base32&lt;/code&gt;. This will install tor and required libraries with ssl to create the authorization keys to secure access to your site.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
Create the Onion service in OpenWrt
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;In the OpenWrt router edit the &lt;code class=&#34;verbatim&#34;&gt;/etc/config/tor-hs&lt;/code&gt; file and add the following (or uncomment it):&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;config hidden-service
    option Name &amp;#39;sshd&amp;#39;
    option Description &amp;#34;Hidden service for ssh&amp;#34;
    option Enabled &amp;#39;false&amp;#39;
    option IPv4 &amp;#39;127.0.0.1&amp;#39;
    #public port=2222, local port=22
    list PublicLocalPort &amp;#39;2222;22&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Edit the &lt;code class=&#34;verbatim&#34;&gt;/etc/tor/torrc&lt;/code&gt; and add the following (this configuration is enough for what we want to do, you can delete other existing configurations):&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;Log notice syslog
RunAsDaemon 1
User tor
DataDirectory /etc/tor/data/
HiddenServiceDir /etc/tor/hidden_service/
HiddenServicePort 22 127.0.0.1:22&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This will enable:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tor notifications on the system log of OpenWrt&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;User tor&lt;/code&gt; tells that tor user is in charge of tor related tasks (and not the root user).&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;DataDirectory&lt;/code&gt; will store Tor required data.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;HiddenServiceDir&lt;/code&gt; is the folder of our Onion service. Named here as hidden_service, but you can name the folder as you please.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;HiddenServicePort&lt;/code&gt; will the Tor which port to expose to the Tor network and will redirect traffic to the internal port of the router (syntax: ExposedPort LocalIP:InternalPort). We are using here port 22 which is used for SSH connections.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Alternatively you could use a socket to avoid exposing things on your server that are restricted to the local machine. To do this you need to install &lt;code class=&#34;verbatim&#34;&gt;socat&lt;/code&gt; in the OpenWrt router, create the socket and change ownership to tor user&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;socat UNIX-LISTEN:/etc/tor/hidden.sock,fork TCP4:127.0.0.1:22
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown tor /etc/tor/hidden.sock&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then change the &lt;code class=&#34;verbatim&#34;&gt;HiddenServicePort&lt;/code&gt; line to &lt;code class=&#34;verbatim&#34;&gt;HiddenServicePort 22 unix:/etc/tor/hidden.sock&lt;/code&gt; in the &lt;code class=&#34;verbatim&#34;&gt;torrc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
Create the folders and change user permissions&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /etc/tor/data/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /etc/tor/hidden_service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R tor:tor /etc/tor/hidden_service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R tor /etc/tor&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And restart tor with &lt;div class=&#34;src src-inline src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/tor restart&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-5&#34;&gt;
Enabling Client Authorization
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Since the Onion service will be exposed to the Tor network, it is convenient to enable &lt;a href=&#34;https://community.torproject.org/onion-services/advanced/client-auth/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Client Authorization&lt;/span&gt;&lt;/a&gt;, this way the site will require clients to provide an authentication credential in order to connect to the Onion Service. In other words, clients need to provide a their private pair key which will be checked against the public pair key (stored in the OpenWrt router) in order to access the site content. Once client authorization is enabled, more security is added to the site: &lt;em&gt;No valid key, no access&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;
SSH to the OpenWrt router and create keys for secure connection of authorized clients&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;openssl genpkey -algorithm x25519 -out /etc/tor/hidden_service.pem&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create private key (this one is for the client)&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TOR_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;openssl pkey &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-in /etc/tor/hidden_service.pem -outform der &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tail -c &lt;span class=&#34;m&#34;&gt;32&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base32 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;s/=//g&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create the public key (this will be stored in our router)&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TOR_PUB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;openssl pkey &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-in /etc/tor/hidden_service.pem -outform der -pubout &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tail -c &lt;span class=&#34;m&#34;&gt;32&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base32 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;s/=//g&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Show your Onion service address (this is the address to be accessed through the tor network) and assign it to a variable:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/tor/hidden_service/hostname
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TOR_HOST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat /etc/tor/hidden_service/hostname&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create the private key file (to be stored in your client)&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; client.auth_private
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;${TOR_HOST%.onion}:descriptor:x25519:${TOR_KEY}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create the public key file in the authorized clients folder (in the router)&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; /etc/tor/hidden_service/authorized_clients/client.auth
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;descriptor:x25519:${TOR_PUB}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-6&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-6&#34;&gt;
Configure access key on Client
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-6&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Here we have three options:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Tor software in a Linux machine&lt;/strong&gt; &lt;br&gt;
You might need to be root. Add the following to the tor configuration file &lt;code class=&#34;verbatim&#34;&gt;/etc/tor/torrc&lt;/code&gt;, which will point to the path where you will store your private authentication keys&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ClientOnionAuthDir /etc/tor/onion_auth&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create the folder&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /etc/tor/onion_auth&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then just simply copy the &lt;code class=&#34;verbatim&#34;&gt;client.auth_private&lt;/code&gt; file inside the &lt;code class=&#34;verbatim&#34;&gt;/etc/tor/onion_auth&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Tor Browser&lt;/strong&gt; &lt;br&gt;
When trying to connect to the site, you will be asked by the browser to provide the key. Just paste the key, if you open the file &lt;code class=&#34;verbatim&#34;&gt;client.auth_private&lt;/code&gt; you will see the key at the end, which was our &lt;code class=&#34;verbatim&#34;&gt;TOR_KEY&lt;/code&gt;, it might look something like this: &lt;code class=&#34;verbatim&#34;&gt;BBBEAUAO3PIFAH7SBGBI6A2QFAZBXG2NVN7HMBXFCZENJVF6C5AQ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Orbot&lt;/strong&gt; &lt;br&gt;
Tor browser on android &lt;a href=&#34;https://tb-manual.torproject.org/mobile-tor/#known-issues&#34;&gt;is not able to connect to Client Authorization Onion service&lt;/a&gt;, but Orbot can. Enable this by going in the app to &lt;code class=&#34;verbatim&#34;&gt;⋮ -&amp;gt; Onion Services -&amp;gt; Client Authorization -&amp;gt; +&lt;/code&gt; and add the Onion service address and the &lt;code class=&#34;verbatim&#34;&gt;TOR_KEY&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;At this point, you will be able to reach the Onion service, but will be unable to perform anything yet due to: On Tor browser connection will be refused since site is configured to expose only port 22 and this port is commonly used for SSH connections.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-7&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-7&#34;&gt;
OpenWrt and SSH
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-7&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;By this point you might be familiar with how to SSH to your OpenWrt router and have already set a password to access. We could easily SSH connect to the Onion service using password authentication, but for more security we will disable this and configure it to just allow key authentication.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-8&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-8&#34;&gt;
Create the SSH Key on client
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-8&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;Since I am planning to access from my Android phone these are the steps I performed. This is reproducible in a Linux machine just skipping the &lt;a href=&#34;https://termux.com/&#34;&gt;Termux&lt;/a&gt; install.&lt;/p&gt;
&lt;p&gt;
On Android install termux from F-droid, open it and the install OpenSSH&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pkg upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pkg install openssh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Create the ssh key with the following command (here we are using the Ed25519 algorithm for small keys without compromising security and adding a comment with the &lt;code class=&#34;verbatim&#34;&gt;-C &amp;#34;...&amp;#34;&lt;/code&gt; option). Setting a pasword is optional when prompted:&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen -t ed25519 -C &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;whoami&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;uname -n&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date -I&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A file &lt;code class=&#34;verbatim&#34;&gt;/.ssh/id_ed25519.pub&lt;/code&gt; will be created in the phone. Then send this key to the OpenWrt and add it to dropbear to make it persistent&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id -i .ssh/id_ed25519.pub root@192.168.1.1 &lt;span class=&#34;c1&#34;&gt;#192.168.1.1 is the gateway of yout OpenWrt router, change it if yours is different&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh root@192.168.1.1 &lt;span class=&#34;s2&#34;&gt;&amp;#34;tee -a /etc/dropbear/authorized_keys&amp;#34;&lt;/span&gt; &amp;lt; ~/.ssh/id_rsa.pub&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Or print on screen the key, copy it and paste it into the Luci &lt;code class=&#34;verbatim&#34;&gt;System -&amp;gt; Administration -&amp;gt; SSH-Keys&lt;/code&gt; and click &lt;code class=&#34;verbatim&#34;&gt;add key&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat .ssh/id_ed25519.pub&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-9&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-9&#34;&gt;
Disable SSH password authentication on OpenWrt
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-9&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;This is just as simple as login to the Luci and go to &lt;code class=&#34;verbatim&#34;&gt;System -&amp;gt; Administration -&amp;gt; SSH Access&lt;/code&gt; and in Interface select &lt;code class=&#34;verbatim&#34;&gt;Unspecified&lt;/code&gt; and uncheck &lt;code class=&#34;verbatim&#34;&gt;Password authentication&lt;/code&gt; and &lt;code class=&#34;verbatim&#34;&gt;Allow root logins with password&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
Or from terminal, ssh to the router (you will still be asked for password if set) and run&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uci &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; dropbear.@dropbear&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.PasswordAuth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uci &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; dropbear.@dropbear&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.RootPasswordAuth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uci commit dropbear
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/dropbear restart&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;
&lt;em&gt;et voila&lt;/em&gt;, test it by connecting to the router using your phone from termux by running&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh root@192.168.1.1&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This time you will not be asked for a password but will be logged automatically and if you or anyone attempt to login without having the authorized key (e.g. from another PC or phone), the connection will be refused.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-10&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-10&#34;&gt;
SSH to router from the Tor network
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-10&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Finally, we have Tor running in our router and it is running our Onion service. We just need to connect to the  Tor network with our phone and then ssh to the Onion service.&lt;br&gt;
Again, check that you have already set the Client Public Key in Orbot or you will not be able to reach the site. Then just run Orbot in VPN mode, open Termux and from Termux run&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh root@&lt;span class=&#34;s2&#34;&gt;&amp;#34;Your onion service/host.onion&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You should now be logged into the OpenWrt router and now you can control the services running on the router or ssh to another server inside your home network.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-11&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-11&#34;&gt;
Tunnel ports
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-11&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;You may want to access to services running on specific ports (like the Luci interface), then you use&lt;/p&gt;
&lt;div class=&#34;src src-shell&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh root@&lt;span class=&#34;s2&#34;&gt;&amp;#34;Your onion service/host.onion&amp;#34;&lt;/span&gt; -L 99:127.0.0.1:80&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This will tunnel traffic from your server port 80 (used for websites) and will make it available in the &lt;code class=&#34;verbatim&#34;&gt;127.0.0.1:99&lt;/code&gt; address which can be accessed with a browser from the phone. You can tunnel as many ports as you want &lt;code class=&#34;verbatim&#34;&gt;-L 99:127.0.0.1:80 -L 100:127.0.0.1:81 ...&lt;/code&gt; Open Firefox go to that address and see the result.&lt;/p&gt;
&lt;p&gt;
I use this to access remotely to the &lt;a href=&#34;https://github.com/ziahamza/webui-aria2&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;WebUI-Aria2&lt;/span&gt;&lt;/a&gt; interface to load torrents from my phone, so they will be downloaded when I am not at home and be available when I arrive. I also use it to wake-on-lan my plex server, etc, etc.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-12&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-12&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-12&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Jesus f*kin&amp;#39; Christ, it took me a week to figure out how to set correctly the Onion service with Client authentication and once I set it I was like &amp;#34;Dude, it&amp;#39;s not even that hard&amp;#34;. But I was struggling due to I was reading tutorials for setting a v2 Onion service and mixing information with the new v3 Onion service.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once you set everything you have two key authentication factors:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;From Tor service with Client authentication (with x25519 algorithm) and&lt;/li&gt;
&lt;li&gt;From the SSH public key authentication (with ed25519 algorithm)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This security level should be enough&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Expect response delays, you should be aware that Tor network is a bit slow.&lt;/li&gt;
&lt;li&gt;Again, if you have a public IP and/or are able to perform port forwarding, I encourage you to set a WireGuard connection (+ a free DDNS). This will be faster and secure than this Tor solution.&lt;/li&gt;
&lt;li&gt;I don&amp;#39;t think you should be afraid of using Tor, despite the bad reputation that media gave it after the Silk Road scandal. Tor is a great implementation to circumvent censorship and stay anonymous, but as it happens with many great developments, people will use it for bad practices. Tor network is not bad, people is bad.&lt;/li&gt;
&lt;li&gt;You are most likely to be hacked by a phishing attack on normal internet usage than in the Tor network.&lt;/li&gt;
&lt;li&gt;Also, you might take a look to &lt;a href=&#34;https://onionshare.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;OnionShare&lt;/span&gt;&lt;/a&gt; tool. It is very nice.&lt;/li&gt;
&lt;li&gt;The Onion service will use around &lt;a href=&#34;https://0day.work/measuring-a-tor-hidden-services-idle-traffic/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;600-700 MB&lt;/span&gt;&lt;/a&gt; per month to keep the necessary circuits open on idle. Keep in mind this if you have a metered connection.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/tor/">tor</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/ssh/">ssh</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/vpn/">vpn</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>AdGuardHome, like Pi-hole but…better(?)</title>
                <link>https://earvingad.github.io/posts/adguardhome/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/adguardhome/</guid>
                <pubDate>Sun, 15 May 2022 13:23:58 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
&lt;a href=&#34;https://adguard.com/en/welcome.html&#34;&gt;AdGuard Home&lt;/a&gt; is a…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Privacy protection center for you and your devices&lt;/p&gt;
&lt;p&gt;
Free and open source, powerful network-wide ads &amp;amp; trackers blocking DNS server.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It has a windows, Mac, Android and iOS app. Also a web extension, it is also offering a DNS service, VPN service and a &lt;a href=&#34;https://openwrt.org/docs/guide-user/services/dns/adguard-home&#34;&gt;package&lt;/a&gt; for OpenWrt. We will focus on the latter, I wrote briefly about it the &lt;a href=&#34;https://earvingad.github.io/posts/adblocking/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Ad Blocking, simple &amp;amp; fast&lt;/span&gt;&lt;/a&gt; entry.&lt;/p&gt;
&lt;p&gt;
This post is based on &lt;a href=&#34;https://forum.openwrt.org/t/howto-running-adguard-home-on-openwrt/51678&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;this&lt;/span&gt;&lt;/a&gt; forum entry. The only difference is that it will be installed in an external HDD connected to the OpenWrt router.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Installation
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Login to the router &lt;code class=&#34;verbatim&#34;&gt;ssh root@192.168.1.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Update the packages and install wget &lt;code class=&#34;verbatim&#34;&gt;opkg update &amp;amp;&amp;amp; opkg install wget&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Go to the mounted HDD location and create a folder for AdGuardHome &lt;code class=&#34;verbatim&#34;&gt;cd /mnt/sda1 &amp;amp;&amp;amp; mkdir AdGuardHome &amp;amp;&amp;amp; cd AdGuardHome&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now download the package &lt;code class=&#34;verbatim&#34;&gt;wget -c https://github.com/AdguardTeam/AdGuardHome/releases/download/v0.107.6/AdGuardHome_linux_armv7.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Please note that there are different platform downloads in every &lt;a href=&#34;https://github.com/AdguardTeam/AdGuardHome/releases&#34;&gt;release&lt;/a&gt;. In this case the selected download is Linux armv7 for OpenWrt installed in a router with an ARMv7 CPU architecture.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Unpack it &lt;code class=&#34;verbatim&#34;&gt;tar xfvz AdGuardHome_linux_armv7.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Remove the unused &lt;code class=&#34;verbatim&#34;&gt;rm AdGuardHome_linux_armv7.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;And install it with &lt;code class=&#34;verbatim&#34;&gt;/mnt/sda1/AdGuardHome/AdGuardHome -s install&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;This will create a service to start, restart and stop the package.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Enable and start the service with &lt;code class=&#34;verbatim&#34;&gt;/etc/init.d/AdGuardHome enable&lt;/code&gt; and then &lt;code class=&#34;verbatim&#34;&gt;/etc/init.d/AdGuardHome start&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;In the browser go to &lt;code class=&#34;verbatim&#34;&gt;http://192.168.1.1:3000/&lt;/code&gt; (If your router IP is not &lt;code class=&#34;verbatim&#34;&gt;192.168.1.1&lt;/code&gt;, change this accordingly)&lt;/li&gt;
&lt;li&gt;Setup the Admin Web Interface to listen on &lt;code class=&#34;verbatim&#34;&gt;192.168.1.1&lt;/code&gt; at port &lt;code class=&#34;verbatim&#34;&gt;8080&lt;/code&gt;. (Changing the web interface port is optional)&lt;/li&gt;
&lt;li&gt;Set DNS server to listen on &lt;code class=&#34;verbatim&#34;&gt;192.168.1.1&lt;/code&gt; at port &lt;code class=&#34;verbatim&#34;&gt;5353&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Finally, create an user and choose a strong password.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Configure OpenWrt to use AdGuardHome
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Login into LuCi and go to &lt;code class=&#34;verbatim&#34;&gt;Network -&amp;gt; DHCP and DNS&lt;/code&gt;, in General Settings set DNS forwardings to &lt;code class=&#34;verbatim&#34;&gt;192.168.1.1#5353&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Go to Resolv and Hosts Files tab and check the Ignore resolv file option.&lt;/li&gt;
&lt;li&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;Network -&amp;gt; Firewall&lt;/code&gt; and in Custom Rules tab add the following:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;iptables -t nat -A PREROUTING -i br-lan -p udp --dport 53 -j DNAT --to 192.168.1.1:5353
iptables -t nat -A PREROUTING -i br-lan -p tcp --dport 53 -j DNAT --to 192.168.1.1:5353&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;
For OpenWrt 22.xx this will not work, since it &lt;a href=&#34;https://openwrt.org/releases/22.03/notes-22.03.0-rc1#firewall4_based_on_nftables&#34;&gt;is not using fw3 but fw4&lt;/a&gt;. So it will ignore the custom rules but the workaround is the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;Network -&amp;gt; Firewall -&amp;gt; Port Forwards&lt;/code&gt; and create a the following rule:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;Name: AdGuardHome
Protocol: TCP, UDP
Source zone: lan
External port: 53
Destination zone: lan
Internal IP address: 192.168.1.1
Internal port: 5353&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;
This rule will force that any traffic originated on &lt;code class=&#34;verbatim&#34;&gt;lan&lt;/code&gt; will go to the OpenWrt router on port &lt;code class=&#34;verbatim&#34;&gt;5353&lt;/code&gt;. &lt;a href=&#34;https://jeff.vtkellers.com/posts/technology/force-all-dns-queries-through-pihole-with-openwrt/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;This blog entry&lt;/span&gt;&lt;/a&gt; explains it and adds a second rule (NAT rule) that is useful when using a separate DNS blocking device, in that scenario a Pi-hole. The second rule will have the source IP rewritten to match the original.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Modify Blocklists
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;You can add and remove Blocklists as you wish. You can check list from &lt;a href=&#34;https://firebog.net/&#34;&gt;Firebog&lt;/a&gt; and &lt;a href=&#34;https://oisd.nl/&#34;&gt;oisd&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open in the web browser &lt;code class=&#34;verbatim&#34;&gt;http://192.168.1.1:8080/&lt;/code&gt; and go to &lt;code class=&#34;verbatim&#34;&gt;Filters -&amp;gt; DNS blocklists&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;You can use &lt;a href=&#34;https://github.com/mmotti/adguard-home-filters/blob/master/regex.txt&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;this&lt;/span&gt;&lt;/a&gt; regex rules to block ads. Go to &lt;code class=&#34;verbatim&#34;&gt;Filters -&amp;gt; Custom filtering rules&lt;/code&gt;. This will block by itself around 50% of ads.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Since AdGuardHome is running from an external HDD connected to the router, all configuration and logs will survive reboots.&lt;/li&gt;
&lt;li&gt;You can do more things with AdGuardHome, like set DNS-over-TLS for more privacy or configure it as a DHCP sever.&lt;/li&gt;
&lt;li&gt;Maybe you want to block complete access to TikTok. AdGuardHome can block popular sites and services and offers parental control.&lt;/li&gt;
&lt;/ol&gt;
&lt;figure&gt;&lt;img src=&#34;https://camo.githubusercontent.com/42b91eda808e2f68c98250679e29bcb0b0b4ef0364a4f67b6821982f4c87b1b3/68747470733a2f2f63646e2e616467756172642e636f6d2f7075626c69632f416467756172642f436f6d6d6f6e2f616467756172645f686f6d652e676966&#34;/&gt;
&lt;/figure&gt;

&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/adblock/">adblock</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/router/">router</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/linux/">linux</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>OpenWrt or How to give your router steroids</title>
                <link>https://earvingad.github.io/posts/openwrt/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/openwrt/</guid>
                <pubDate>Fri, 06 May 2022 14:14:48 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;blockquote&gt;
&lt;p&gt;The OpenWrt Project is a Linux operating system targeting embedded devices. Instead of trying to create a single, static firmware, OpenWrt provides a fully writable filesystem with package management. This frees you from the application selection and configuration provided by the vendor and allows you to customize the device through the use of packages to suit any application(…)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Yeeeah baby! good soup!&lt;/p&gt;
&lt;p&gt;
Have you ever hated your wireless router so much that you wanted to smash it to the wall because it is just a piece of useless shit?&lt;/p&gt;
&lt;p&gt;
Well, I have. Because, let&amp;#39;s face it, Internet provider&amp;#39;s routers are pretty limited and might freeze with more than 5 connected devices. So you opt to buy a more powerfull with a better processor and more downloadable ram (yes, downloading more ram is still a thing), and yes, the vendor router performs better, but it is still just a router, you are limited to the vendor software (which is close to nothing), it freezes from time to time and you still lag when gaming online!&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;https://openwrt.org/&#34;&gt;OpenWrt&lt;/a&gt;, as you previously read, is a filesystem which can replace vendor filesystem and comes with a package management that will allow you to install applications to expand the functionality of the router. This is like uninstalling Windows from your PC and install Linux (or doing it the wrong way, installing windows on a Mac…. Why?).&lt;/p&gt;
&lt;p&gt;
Also, OpenWrt is more secure and stable than vendor systems due to continuous updates, since its code is open to the community and developers. This also means that it can support more and more devices in the future.&lt;/p&gt;
&lt;p&gt;
At the end, this is the goal:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stable internet connection,&lt;/li&gt;
&lt;li&gt;Router stability for more device connections,&lt;/li&gt;
&lt;li&gt;Network security and&lt;/li&gt;
&lt;li&gt;Additional functionalities.&lt;/li&gt;
&lt;/ul&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Installing OpenWrt
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;You have to be aware that if your going to modify something on your devices, you need to have at least basic knowledge of what you attempt to do, because you will void the device warranty or brick it and make it useless.&lt;/p&gt;
&lt;p&gt;
OpenWrt officially supports a wide variety of devices (see the &lt;a href=&#34;https://openwrt.org/toh/views/toh_fwdownload?dataflt%5B0%5D=supported%20current%20rel_%3D21.02.3&#34;&gt;Table of Hardware for Firmware downloads&lt;/a&gt;) and each of them comes with specific instructions depending on the model and version, but most of the times you will just need to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Download and install the OpenWrt Factory Firmware through the WebUI of the vendor using the “Firmware Upgrade” option.&lt;/li&gt;
&lt;li&gt;Flash a &amp;#34;…sysupgrade.bin&amp;#34; specific for your device.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It might sound complicated at first sight, but there are plenty of tutorials online and a &lt;a href=&#34;https://forum.openwrt.org/&#34;&gt;Forum&lt;/a&gt; where you can look for help.&lt;/p&gt;
&lt;p&gt;
Popular devices offer the most help, available tutorials and sometimes the easiest installation methods. So which routers are the best choices to buy?&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
How to choose?
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Well, recommended specs are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;At least 16 MB of flash memory and&lt;/li&gt;
&lt;li&gt;128MB of RAM&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Then you can focus on other needs such as:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;How many USB ports does it have? are they 3.0?&lt;/li&gt;
&lt;li&gt;Does it have 5G antenna or just 2.4G? are both antennas supported?&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Routers from Linksys, TP-Link, Netgear, ASUS or Xiaomi are good options.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-3&#34;&gt;
Other elaborated alternatives
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;What I mean with &lt;em&gt;elaborated&lt;/em&gt; it that you need another more extra steps than the usual OpenWrt installation in a built-in router.&lt;/p&gt;
&lt;p&gt;
The great thing of OpenWrt is that it is not limited only to routers. It can also be installed in PCs as it has &lt;a href=&#34;https://openwrt.org/docs/guide-user/installation/openwrt_x86&#34;&gt;x86/64 support&lt;/a&gt; and have you heard of Raspberry Pi? Well yes, you can &lt;a href=&#34;https://openwrt.org/toh/raspberry_pi_foundation/raspberry_pi&#34;&gt;install OpenWrt on a Raspberry Pi&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;
Of course the drawback is that you will lose WiFi capabilities but you can solve it with a wireless &lt;a href=&#34;https://en.wikipedia.org/wiki/Wireless_access_point&#34;&gt;Access Point&lt;/a&gt; (AP) like TP-Link, Cisco, blah blah and a USB 3.0 to Gigabit Ethernet adapter.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
Now what? Give me more steroids!
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Once you successfully installed OpenWrt, you have so many options to install through LuCI, the web interface of OpenWrt:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://openwrt.org/docs/guide-user/services/ad-blocking&#34;&gt;Ad Blocking&lt;/a&gt;: This will not block ads from YouTube App, but will block most of the ads when surfing the net (what a 90&amp;#39;s expression!) and will speed internet navigation on your devices. It can also block trackers and other abuse sites, like your SmartTV annoying need to send information and reach vendor&amp;#39;s website.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Minimal ad blocking can be achieved with: &lt;a href=&#34;https://openwrt.org/packages/pkgdata/adblock&#34;&gt;adblock&lt;/a&gt; and &lt;a href=&#34;https://openwrt.org/packages/pkgdata/simple-adblock&#34;&gt;simple-adblock&lt;/a&gt; packages.&lt;/li&gt;
&lt;li&gt;A more user friendly option is: &lt;a href=&#34;https://openwrt.org/docs/guide-user/services/dns/adguard-home&#34;&gt;AdGuard Home&lt;/a&gt; which is similar to the popular &lt;a href=&#34;https://pi-hole.net/&#34;&gt;Pi-hole&lt;/a&gt; an adblock and DHCP server for the Raspberry Pi.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://openwrt.org/docs/guide-user/services/vpn/start&#34;&gt;VPN Client and Server&lt;/a&gt;: This is important if you want privacy and/or bypass firewalls. The router will encrypt all the internet traffic of all the devices connected to the router. Also, while setting a VPN server you will be able to connect securely to your home network while you are away and perform task remotely.&lt;/li&gt;
&lt;li&gt;Download Manager: Achieved through &lt;a href=&#34;https://aria2.github.io/&#34;&gt;aria2&lt;/a&gt; and the &lt;a href=&#34;https://github.com/ziahamza/webui-aria2&#34;&gt;webui-aria2&lt;/a&gt;, you can download files directly to the router, torrent directly in the router! Just load the torrent in the webui-aria2, poweroff your laptop/PC and go to sleep, all your Linux ISOs torrents will continue to download in the router.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://openwrt.org/docs/guide-user/services/nas/start&#34;&gt;File Sharing&lt;/a&gt;: You can set a Samba server or ftp, to share files among your devices. Remember those ISOs you downloaded? This is the way to copy them into your devices. Or if you installed OpenWrt on a PC, you could create a own &lt;a href=&#34;https://en.wikipedia.org/wiki/Network-attached_storage&#34;&gt;Network-attached storage&lt;/a&gt; (NAS). The simplest and lightweight implementation of Samba for OpenWrt is ksmbd through its &lt;a href=&#34;https://openwrt.org/packages/pkgdata/luci-app-ksmbd&#34;&gt;luci app&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://openwrt.org/docs/guide-user/services/media_server/dlna&#34;&gt;Media Server&lt;/a&gt;: Maybe you downloaded some ISOs on your router, that you want to watch immediately on your SmartTV. You can achieve this by setting a DLNA Media Server (with the &lt;a href=&#34;https://wiki.debian.org/FreedomBox/Manual/MiniDLNA&#34;&gt;MiniDLNA&lt;/a&gt; implementation) in order to allow the ISOs be visble to the SmartTV connected to the router.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://openwrt.org/docs/guide-user/network/traffic-shaping/sqm&#34;&gt;SQM (Smart Queue Management)&lt;/a&gt;: Or in other words, your ally against &lt;a href=&#34;https://en.wikipedia.org/wiki/Bufferbloat&#34;&gt;Bufferbloat&lt;/a&gt; and best partner to improve streaming, general internet navigation and reduce latency for gaming online. &lt;a href=&#34;https://forum.openwrt.org/t/so-you-have-500mbps-1gbps-fiber-and-need-a-router-read-this-first/90305&#34;&gt;SQM is heavily CPU-based&lt;/a&gt;, so if you need +500mbps speeds, you better consider a x86/64 router and some APs. You can also do &lt;a href=&#34;https://github.com/rosywrt/nft-qos&#34;&gt;QoS over Nftables&lt;/a&gt; for User Bandwidth Management.&lt;/li&gt;
&lt;li&gt;Virtualization: Since the OpenWrt 20.xx release, you can run &lt;a href=&#34;https://openwrt.org/docs/guide-user/virtualization/docker_host&#34;&gt;Docker containers on OpenWrt&lt;/a&gt;, at least for the x86/64 version, because virtualization requires more power than a router can offer. But just imagine this: You have your x86/64 OpenWrt with some APs, a few HDD with some Terabytes for NAS where you download your Linux ISOs and &lt;a href=&#34;https://www.plex.tv/&#34;&gt;Plex&lt;/a&gt; installed in a Docker container to stream some ISOs to your SmartTV. Oooh yeah baby.&lt;/li&gt;
&lt;li&gt;Theming: It might not be important to some people, but it is always pleasant to have a nice theme. Some examples are &lt;a href=&#34;https://github.com/LuttyYang/luci-theme-material/&#34;&gt;Material&lt;/a&gt; and &lt;a href=&#34;https://github.com/jerrykuku/luci-theme-argon&#34;&gt;Argon&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The above described is just a tip of the iceberg. There are a lot of &lt;a href=&#34;https://openwrt.org/reasons_to_use_openwrt&#34;&gt;reasons to use OpenWrt&lt;/a&gt;, some more are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DNS encryption, DNS hijacking and access to several DDNS services (not only the provided for the vendor of your router).&lt;/li&gt;
&lt;li&gt;Create a guest WiFi allowing access to internet, but not your personal devices.&lt;/li&gt;
&lt;li&gt;Parental control.&lt;/li&gt;
&lt;li&gt;Add webcams and interact with IoT devices for home automation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are over 3000 steroids for OpenWrt. You can try and find the ones suitable for your needs and remember: it&amp;#39;s Open Source, it&amp;#39;s Linux and &lt;a href=&#34;https://static.wikia.nocookie.net/ragefaces/images/d/d1/Its_free.jpg/revision/latest?cb=20120525010459&amp;amp;path-prefix=es&#34;&gt;it&amp;#39;s free&lt;/a&gt; (but if you are able to &lt;a href=&#34;https://openwrt.org/donate&#34;&gt;donate&lt;/a&gt; to the project, please do).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-5&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;I mean, OpenWrt team is still working on the project so better and better improvements might come.&lt;/li&gt;
&lt;li&gt;If you already have a router, it might not be officially supported due to proprietary drivers, but since OpenWrt code in open to everyone, there are some forks of the project that might have support for your device such as &lt;a href=&#34;https://x-wrt.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;X-Wrt&lt;/span&gt;&lt;/a&gt; which is based on the Snapshots of OpenWrt (the most updated version). Another and more popular fork is &lt;a href=&#34;https://github.com/coolsnowwolf/lede&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Lean&amp;#39;s OpenWrt&lt;/span&gt;&lt;/a&gt; (which at the time this entry is posted, it is compiling the 21.xx version of OpenWrt). Don&amp;#39;t be afraid of Chinese language, grab a translator, be a man and do not fear what you don&amp;#39;t understand.&lt;/li&gt;
&lt;li&gt;There are other alternatives to OpenWrt like: &lt;a href=&#34;https://dd-wrt.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;DD-WRT&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://freshtomato.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;FreshTomato&lt;/span&gt;&lt;/a&gt; and &lt;a href=&#34;https://www.gargoyle-router.com/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Gargoyle&lt;/span&gt;&lt;/a&gt;, but I personally recommend OpenWrt.&lt;/li&gt;
&lt;li&gt;If you are thinking about a x86/64 device + APs combo, you may want to take a look on &lt;a href=&#34;https://opnsense.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;OPNsense&lt;/span&gt;&lt;/a&gt; and &lt;a href=&#34;https://www.pfsense.org/&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;pfSense&lt;/span&gt;&lt;/a&gt; projects. They are more Firewall-enterprise oriented but I have seen many post of people using them for homelab.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As for me, I use a X-Wrt build on a ASUS router that is not officially supported by OpenWrt in which I injected the following steroids:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Argon themed,&lt;/li&gt;
&lt;li&gt;Ad Blocking with AdGuard Home,&lt;/li&gt;
&lt;li&gt;SQM,&lt;/li&gt;
&lt;li&gt;aria2 and webui-aria2,&lt;/li&gt;
&lt;li&gt;ksmbd and ftp for file sharing and&lt;/li&gt;
&lt;li&gt;MiniDLNA&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I think this is long enough. I might write about Plex and File Sharing on separate entries (and maybe how to build your custom X-Wrt/OpenWrt).&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/router/">router</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/linux/">linux</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Ad Blocking, simple &amp; fast</title>
                <link>https://earvingad.github.io/posts/adblocking/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/adblocking/</guid>
                <pubDate>Wed, 27 Apr 2022 21:24:55 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
We all hate ads.&lt;/p&gt;
&lt;p&gt;
According to Wikipedia,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ad blocking or ad filtering is a software capability for blocking or altering online advertising in a web browser, an application or a network. This may be done using browser extensions or other methods.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
So you have choices&lt;/p&gt;
&lt;p&gt;
I am not going to detail but give the practical and useful information about the fastest and easiest way to block ads&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Browser extensions
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;You need, always, no matter what, a web browser ad block extension. It will, of course, block ads only for the web browser. Main alternatives are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://getadblock.com/en/&#34;&gt;AdBlock&lt;/a&gt;, which allows &lt;em&gt;Acceptable Ads&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://adblockplus.org/&#34;&gt;Adblock Plus&lt;/a&gt;, which also allows &lt;em&gt;Acceptable Ads&lt;/em&gt; and&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/gorhill/uBlock&#34;&gt;uBlock Origin&lt;/a&gt;, which gives a fuck about &lt;em&gt;Acceptable Ads&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The term &lt;em&gt;&lt;a href=&#34;https://acceptableads.com/&#34;&gt;Acceptable Ads&lt;/a&gt;&lt;/em&gt; means that publishers and advertisers still profit from advertisement by whitelisting their &amp;#34;high quality ads&amp;#34; in the ad block extension, allowing them to pop-up when users visit the pages where they advertise. It might be obvious that in this way, developers of the ad block extension profit too.&lt;/p&gt;
&lt;p&gt;
uBlock Origin is Open Source and it is &lt;a href=&#34;https://github.com/gorhill/uBlock/blob/master/MANIFESTO.md&#34;&gt;against the &amp;#34;Acceptable advertisement program&amp;#34;&lt;/a&gt;. It is described as a &lt;em&gt;wide-spectrum blocker, which happens to be able to function as a mere &amp;#34;ad blocker&amp;#34;&lt;/em&gt;. In other words, it just blocks and gives a fuck.&lt;/p&gt;
&lt;p&gt;
It does not ask for donations, as stated in the &lt;a href=&#34;https://github.com/gorhill/uBlock/blob/master/README.md&#34;&gt;README&lt;/a&gt; it expresses that if you want to contribute you should do it to the people that maintain the filter lists. These list are  &lt;a href=&#34;https://easylist.github.io/#easylist&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;EasyList&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://easylist.github.io/#easyprivacy&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;EasyPrivacy&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://pgl.yoyo.org/adservers/policy.php&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Peter Lowe’s ad/tracking/malware servers&lt;/span&gt;&lt;/a&gt;, &lt;a href=&#34;https://gitlab.com/curben/urlhaus-filter#urlhaus-malicious-url-blocklist&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;Online Malicious URL Blocklist&lt;/span&gt;&lt;/a&gt;, and uBlock Origin&amp;#39;s &lt;a href=&#34;https://github.com/uBlockOrigin/uAssets/tree/master/filters&#34;&gt;&lt;span style=&#34;text-decoration: underline;&#34;&gt;own filter lists&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
You can install uBlock Origin even in the mobile version of the web browsers and oh yeah, this will block YouTube Ads when using the web browser.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Block by DNS
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;In simple terms it is a plain text file with the addresses allowed and disallowed to reach by the device. You can either modify the host file of your PC (for mobile devices it is complicated), rely on ad blocking DNS services (usually it will not block many ads) or use a software to handle this for your local network.&lt;/p&gt;
&lt;p&gt;
I will recommend the latter and the use of:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://pi-hole.net/&#34;&gt;Pi-hole&lt;/a&gt; an adblock and DHCP server for the Raspberry Pi. It is very easy to configure and it is a separated devices from the router. The drawback is precisely that: it is a separated device that you need to buy and it must be always turned on alongside your router.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://openwrt.org/docs/guide-user/services/ad-blocking&#34;&gt;OpenWrt ad blocking capabilities&lt;/a&gt;, you can either set &lt;a href=&#34;https://openwrt.org/packages/pkgdata/adblock&#34;&gt;adblock&lt;/a&gt; and &lt;a href=&#34;https://openwrt.org/packages/pkgdata/simple-adblock&#34;&gt;simple-adblock&lt;/a&gt; packages for low CPU-power routers or &lt;a href=&#34;https://openwrt.org/docs/guide-user/services/dns/adguard-home&#34;&gt;AdGuard Home&lt;/a&gt; for a nice UI.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Setting an DNS blocker on your local network, either a pi-hole or on the OpenWrt router, will block ads for all the devices connected to the network (SmartTVs, phones and all of the smart devices) and you can add or remove filter lists according your needs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Others (?)
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Here I might say Ad Blocking Apps, but if I am not mistaken, apps connect to a DNS service that blocks the ads. I could say the same for VPN ad blocking, but VPN is more desirable for privacy rather than ad blocking.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Go get an ad block extension for your web browser. You might find that some web pages restrict the access when using an Ad Blocker and will ask you to disable it to access, but you the general web browsing experience will improve considerably.&lt;/li&gt;
&lt;li&gt;There is also &lt;a href=&#34;https://brave.com/&#34;&gt;Brave a Secure, Fast &amp;amp; Private Web Browser with Adblocker&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;If able, set a Pi-hole or OpenWrt with blocking capabilities.&lt;/li&gt;
&lt;li&gt;Removing ads from installed apps in your phones is more complicated, as the ads &amp;#34;live&amp;#34; inside the app.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/openwrt/">OpenWrt</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/adblock/">adblock</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/router/">router</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/openwrt/">OpenWrt</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/linux/">linux</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Syncthing</title>
                <link>https://earvingad.github.io/posts/syncthing/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/syncthing/</guid>
                <pubDate>Sun, 24 Apr 2022 18:30:09 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;I have been very very busy with work. Regardless COVID, I did homeoffice for about 2 weeks (and only due to suspicion of infection), work load increased considerably and therefore, I really abandoned this blog and I regret it, but I will try to keep writting it regardless the work.&lt;/p&gt;
&lt;p&gt;
So, Let&amp;#39;s start with the entry:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Syncthing is a &lt;strong&gt;continuous file synchronization&lt;/strong&gt; program. It synchronizes files between two or more computers in real time, safely protected from prying eyes. Your data is your data alone and you deserve to choose where it is stored, whether it is shared with some third party, and how it&amp;#39;s transmitted over the internet.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Yeah, just like that. I have add that &lt;a href=&#34;https://syncthing.net/&#34;&gt;Syncthing&lt;/a&gt; not only synchronizes your data (files, photos, blah blah) between computers. It has also a mobile app for your phone —which is free on Android and iPhone (under the name of Möbius Sync but I think you have to pay an extra for unlimited syncs).&lt;/p&gt;
&lt;p&gt;
So why would you want to use it?&lt;/p&gt;
&lt;p&gt;
Well if you have been unlucky as me, then you have lost your precious data due to a disk failure of your PC/laptop or got it stolen and you did not have a backup. You should have learned by now that you need backups of your data and might have listened of the 3-2-1 Backup Rule. And yeah, you can choose a cloud service like Google Drive, Dropbox, etc. but I will focus only on Syncthing as personal tool for backups at home.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
What you need
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;You can set up Syncthing easily on your pc or laptop, which we will assume it is the host. In other words: The computer that will serve as the Cloud of the devices you want to backup.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;So just download and install it on the Host.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Some guides for &lt;a href=&#34;https://www.youtube.com/watch?v=2QcO8ikxzxA&#34;&gt;Windows&lt;/a&gt; and &lt;a href=&#34;https://www.youtube.com/watch?v=foTxCfhxVLE&#34;&gt;Debian&lt;/a&gt;. Archlinux users will just &lt;code class=&#34;verbatim&#34;&gt;sudo pacman -S syncthing&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;After the installation, start syncthing and you can access the configuration page through &lt;code class=&#34;verbatim&#34;&gt;http://localhost:8384/&lt;/code&gt; from the webbrowser on your host.&lt;/li&gt;
&lt;li&gt;Install syncthing on the devices your want to backup as well.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Configure your folders
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Initially, you will have a &lt;code&gt;Default Folder&lt;/code&gt; and it will be marked as &amp;#34;Unshared&amp;#34;, since you still have not added devices to share.
Below, you will see the option &lt;code&gt;Add Folder&lt;/code&gt; where you can specify the path of the folders you want to share and the labels for identification.&lt;/p&gt;
&lt;p&gt;
I will assume you want to backup the photos of a phone.&lt;/p&gt;
&lt;p&gt;
On the Host:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;http://localhost:8384/&lt;/code&gt; on the webbrowser of your host.&lt;/li&gt;
&lt;li&gt;On the top right is the option &lt;code class=&#34;verbatim&#34;&gt;Actions&lt;/code&gt; and then &lt;code class=&#34;verbatim&#34;&gt;Show ID&lt;/code&gt;. A long ID and a QR code will appear.&lt;/li&gt;
&lt;/ol&gt;
&lt;figure&gt;&lt;img src=&#34;https://docs.syncthing.net/_images/gs1.png&#34;/&gt;
&lt;/figure&gt;

&lt;p&gt;
On the phone:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open the app and go to Devices and tap on the &lt;code class=&#34;verbatim&#34;&gt;+&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Scan the QR code of the host &lt;em&gt;et voilá&lt;/em&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;figure&gt;&lt;img src=&#34;https://play-lh.googleusercontent.com/DSXYbRHIOi8YrW2KfgOa93AqQ-ZxboQb1FYVqz8f1veSXj6Wq9PBBwJ_xUNnak8sSw=w1362-h654&#34;/&gt;
&lt;/figure&gt;

&lt;p&gt;
Last step is to configure the folders that you want to share between both devices. Surely, you will not struggle, I find the UI is very intuitive.
As a tip, path of camera folder on Androd is &lt;code class=&#34;verbatim&#34;&gt;/storage/emulated/0/DCIM/Camera&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;You have to keep in mind that synchronization will only occur when the devices are online.&lt;/li&gt;
&lt;li&gt;Shared folders are initially configured as a &lt;code class=&#34;verbatim&#34;&gt;Send &amp;amp; Receive Folder&lt;/code&gt;. Which means everything the Host does in the folder (add/delete/modify) will be reflected on the Device, and viceversa. You can change this &lt;a href=&#34;https://docs.syncthing.net/users/foldertypes.html&#34;&gt;Folder Type&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Every Device you install Syncthing will act as a Host itself. This is helpfull if you want to keep synced data only within your Work Lap and your phone; you will need pair the Work Lap and phone with a shared folder that will only be shared between those devices but not in the Host PC (which you will most likely use to backup personal stuff).&lt;/li&gt;
&lt;li&gt;Please check the &lt;a href=&#34;https://docs.syncthing.net/intro/getting-started.html&#34;&gt;Getting Started&lt;/a&gt; information and the whole set of &lt;a href=&#34;https://docs.syncthing.net/&#34;&gt;Syncthing’s documentation!&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/homelab/">homelab</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/backup/">backup</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/synchronization/">synchronization</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Blog with Hugo (and GitHub Pages)</title>
                <link>https://earvingad.github.io/posts/blogwithhugo/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/blogwithhugo/</guid>
                <pubDate>Sun, 03 Jan 2021 19:37:05 -0600</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;blockquote&gt;
&lt;p&gt;Hugo is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That&amp;#39;s in the Hugo website and I guess it&amp;#39;s true, since I find it very easy to use to publish this dumb blog when I have the time to.&lt;/p&gt;
&lt;p&gt;
Now, Hugo will generate the static site in your PC but how can you make it accessible from the Internet? Well… GitHub Pages is the savior.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;GitHub Pages is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on GitHub, optionally runs the files through a build process, and publishes a website.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
Aaah you see?! Hugo generates the static site and GitHub Pages host this site to make it public. So we need both.&lt;/p&gt;
&lt;p&gt;
So lets start.&lt;/p&gt;
&lt;p&gt;
&lt;strong&gt;Please note that the following instructions and commands are run from a Terminal&lt;/strong&gt;.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Create the GitHub page host
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;In order to publish your blog, you will need to create a host and as we said, we will be using GitHub Pages for that.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;First create from GitHub a repository &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;USERNAME&amp;gt;.github.io&lt;/code&gt; to host your generated content. You can follow GitHub instructions &lt;a href=&#34;https://docs.github.com/en/free-pro-team@latest/github/working-with-github-pages/creating-a-github-pages-site&#34;&gt;here&lt;/a&gt;, it&amp;#39;s very simple and clear to understand.&lt;/li&gt;
&lt;li&gt;Make sure that under Settings of your &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;USERNAME&amp;gt;.github.io&lt;/code&gt; the &lt;code class=&#34;verbatim&#34;&gt;main(or master)&lt;/code&gt; branch and the &lt;code class=&#34;verbatim&#34;&gt;/(root)&lt;/code&gt; folder are selected as Source, to publish your GitHub Pages site.&lt;/li&gt;
&lt;li&gt;Be aware that the repository creation will take around 20-30 minutes to be available online.&lt;/li&gt;
&lt;li&gt;Also intall git &lt;code class=&#34;verbatim&#34;&gt;sudo pacman -S git&lt;/code&gt; (Need &lt;a href=&#34;https://git-scm.com/book/en/v2/Getting-Started-Installing-Git&#34;&gt;help&lt;/a&gt; for installing?)&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Creating the blog with Hugo.
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;ol&gt;
&lt;li&gt;Install Hugo. In Archlinux just &lt;code class=&#34;verbatim&#34;&gt;sudo pacman -S hugo&lt;/code&gt; (see &lt;a href=&#34;https://gohugo.io/getting-started/installing/&#34;&gt;Hugo Install Instructions&lt;/a&gt; for other operating systems).&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a site/blog with &lt;code class=&#34;verbatim&#34;&gt;hugo new site &amp;#34;yourSite&amp;#34;&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;This will create a folder name &lt;code class=&#34;verbatim&#34;&gt;yourSite&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Enter to that folder &lt;code class=&#34;verbatim&#34;&gt;cd yourSite&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add a theme. I am using &lt;a href=&#34;https://github.com/reuixiy/hugo-theme-meme/&#34;&gt;Meme theme&lt;/a&gt; which was added with &lt;code class=&#34;verbatim&#34;&gt;git submodule add --depth 1t https://github.com/reuixiy/hugo-theme-meme.git themes/meme&lt;/code&gt; There are a lot of themes you can choose from the &lt;a href=&#34;https://themes.gohugo.io/&#34;&gt;Hugo theme page&lt;/a&gt;. Configuring the theme is not difficult —I will not detail it.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now add a new post with &lt;code class=&#34;verbatim&#34;&gt;hugo new posts/NewPost.org&lt;/code&gt;. As you can see, I am using an org to write the post (see a brief explanation of what &lt;a href=&#34;https://earvingad.github.io/posts/org_mode/&#34;&gt;org mode&lt;/a&gt; is), but it can be done using the markdown syntax as well.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You will see a new file &lt;code class=&#34;verbatim&#34;&gt;NewPost.org&lt;/code&gt; created under &lt;code class=&#34;verbatim&#34;&gt;content/posts&lt;/code&gt; folder. This file will include the content of your post/blog entry.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The file will begin with something like this&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;---
title: &amp;#34;NewPost&amp;#34;
date: 2021-01-03T19:37:05-06:00
draft: true
---&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Once you are done with editing and writing you can preview the results with &lt;code class=&#34;verbatim&#34;&gt;hugo server -D&lt;/code&gt; this will create a local page (including Drafts, that&amp;#39;s the reason of &lt;code class=&#34;verbatim&#34;&gt;-D&lt;/code&gt;) which you can access from your browser in &lt;code class=&#34;verbatim&#34;&gt;http://localhost:1313/&lt;/code&gt; You can close the server by pressing &lt;code class=&#34;verbatim&#34;&gt;Crtl+c&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configure your &lt;code class=&#34;verbatim&#34;&gt;config.toml&lt;/code&gt; file located inside &lt;code class=&#34;verbatim&#34;&gt;yourSite&lt;/code&gt; folder. It might start with something like this:&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;baseURL = &amp;#34;https://example.org/&amp;#34;
languageCode = &amp;#34;en-us&amp;#34;
title = &amp;#34;My New Hugo Site&amp;#34;
theme = &amp;#34;ananke&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;Replace the &lt;code class=&#34;verbatim&#34;&gt;baseURL&lt;/code&gt; URL with your &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;USERNAME.github.io&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Change the tittle and select your theme. We are using here &lt;code class=&#34;verbatim&#34;&gt;meme&lt;/code&gt; theme.&lt;/li&gt;
&lt;li&gt;This is pretty much all the config you need for now. I will not explain more since it depends on the theme you choose.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Before proceeding run &lt;code class=&#34;verbatim&#34;&gt;rm -rf public&lt;/code&gt; to completely remove the public directory (this does not need to be done on every update).&lt;/li&gt;
&lt;li&gt;Change &lt;code class=&#34;verbatim&#34;&gt;draft: true&lt;/code&gt; to false in your post and run &lt;code class=&#34;verbatim&#34;&gt;hugo&lt;/code&gt; to export the &lt;code class=&#34;verbatim&#34;&gt;NewPost.org&lt;/code&gt; as an html file.&lt;/li&gt;
&lt;li&gt;Finally, bind your GitHub repository to your public directory where Hugo will store the pages to be published with &lt;code class=&#34;verbatim&#34;&gt;git submodule add -b main https://github.com/&amp;lt;USERNAME&amp;gt;/&amp;lt;USERNAME&amp;gt;.github.io.git public&lt;/code&gt; (this does not need to be done on every update).&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Update your git repository
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;You have already exported your blog entry. Now it&amp;#39;s time to make it public in the internet.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;From inside your &lt;code class=&#34;verbatim&#34;&gt;public&lt;/code&gt; folder (which is located inside &lt;code class=&#34;verbatim&#34;&gt;yourSite&lt;/code&gt; folder) run &lt;code class=&#34;verbatim&#34;&gt;git add .&lt;/code&gt; to upload all the files to your &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;USERNAME&amp;gt;.github.io&lt;/code&gt; repository.&lt;/li&gt;
&lt;li&gt;Now commit the changes &lt;code class=&#34;verbatim&#34;&gt;git commit -m &amp;#34;My first blog&amp;#34;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;And finally make it public with &lt;code class=&#34;verbatim&#34;&gt;git push origin master&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;That&amp;#39;s it. You are done. You are able to access to your blog in &lt;code class=&#34;verbatim&#34;&gt;&amp;lt;USERNAME&amp;gt;.github.io&lt;/code&gt; domain.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;More information about Hugo can be found &lt;a href=&#34;https://gohugo.io/hosting-and-deployment/hosting-on-github/&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://gohugo.io/getting-started/quick-start/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;
You can uso Hugo with &lt;a href=&#34;https://gohugo.io/hosting-and-deployment/hosting-on-gitlab/&#34;&gt;gitlab as a Host&lt;/a&gt; for your website. See gitlab info &lt;a href=&#34;https://about.gitlab.com/stages-devops-lifecycle/pages/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/blog/">blog</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/hugo/">hugo</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/github/">github</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/emacs/">emacs</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/git/">git</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/hugo/">hugo</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/blog/">blog</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Orgzly and never lose your notes again</title>
                <link>https://earvingad.github.io/posts/orgzly/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/orgzly/</guid>
                <pubDate>Thu, 11 Jun 2020 22:13:00 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
I wanted to write a post about Orgzly for a few days, but I have been very busy these days. As I told in previous posts, I started using orgmode at work, but not for my everyday personal tasks… and suddenly I came across with Orgzly.&lt;/p&gt;
&lt;p&gt;
&lt;a href=&#34;http://www.orgzly.com/&#34;&gt;Orgzly&lt;/a&gt; is an &lt;em&gt;outliner for notes and to-do lists&lt;/em&gt; for Android devices! It basically allows you to write notes as in &lt;a href=&#34;https://earvingad.github.io/posts/org_mode/&#34;&gt;org-mode&lt;/a&gt; in Emacs, but in your phone —because you wont be carrying your laptop all day.&lt;/p&gt;
&lt;p&gt;
You can use Orgzly to take notes, to-do list or manage your agenda. I am using it for remainders, pending tasks and write some good ass poems (I used to write poems in conventional note taking android apps and lost them all when my last phone was stolen).&lt;/p&gt;
&lt;p&gt;
The good thing is that you can sync your notes created in Orgzly with your PC/laptop using Dropbox.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Installation
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Just go to the playstore and look for Orgzly and no, there is no iOS version.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Dropbox sync
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Once Orgzly is installed in your phone you can enable sync trough Dropbox with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;Settings&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Click on &lt;code class=&#34;verbatim&#34;&gt;Sync&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Click on &lt;code class=&#34;verbatim&#34;&gt;Repositories&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Click on &lt;code class=&#34;verbatim&#34;&gt;Dropbox&lt;/code&gt; (if you already have some repositories, click the plus icon first)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on &lt;code class=&#34;verbatim&#34;&gt;Link to Dropbox&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You will be prompted to login to Dropbox and authorize access to Orgzly.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter the directory inside Dropbox (without &amp;#34;Dropbox&amp;#34; part)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For example: If you have a folder named &lt;code&gt;org&lt;/code&gt; inside Dropbox just type: &lt;code class=&#34;verbatim&#34;&gt;/org&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now every note you write will appear in your Dropbox and you can check it anytime you want from your laptop and phone.&lt;/p&gt;
&lt;p&gt;
How does it look like? Something like this:
&lt;figure&gt;&lt;img src=&#34;https://lh3.googleusercontent.com/wNWpgiOaN0SlID63Yn9ZgNagzzt260tt-IP4TQ2bCOIeQz9F1gkKts9J3f0Dvebp9w=w1360-h704-rw&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;
Full documentation of Orgzly can be found &lt;a href=&#34;http://www.orgzly.com/help&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me :
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/orgmode/">orgmode</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/orgmode/">orgmode</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/orgzly/">orgzly</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/mobile/">mobile</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/dropbox/">dropbox</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/android/">android</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Org-roam &amp; Windows</title>
                <link>https://earvingad.github.io/posts/org_roam_windows/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/org_roam_windows/</guid>
                <pubDate>Tue, 26 May 2020 22:18:24 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
Org-roam
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://org-roam.readthedocs.io/&#34;&gt;Org-roam&lt;/a&gt; is a note-taking tool for Emacs using Org-mode. It is a replica of &lt;a href=&#34;https://roamresearch.com/&#34;&gt;RoamResearch&lt;/a&gt;: &amp;#34;&lt;em&gt;A note-taking tool for networked thought&lt;/em&gt;&amp;#34;. Both are based in the Zettelkasten method, which is described as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Using a Zettelkasten is about optimizing a workflow of learning and producing knowledge.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The method was developed by Niklas Luhmann and the literal translation is:&lt;/p&gt;
&lt;div class=&#34;center-block&#34; style=&#34;text-align: center; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;p&gt;Zettelkasten = &lt;em&gt;Box of notes&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;
In simple words: Org-roam allows you to make connections between your notes, in order to make a more efficient creative/learning process.&lt;/p&gt;
&lt;p&gt;
You can read a more detailed introduction to Zettelkasten in &lt;a href=&#34;https://medium.com/@mosessampaul/zettelkasten-method-of-knowledge-management-the-second-brain-218108942514&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://www.lesswrong.com/posts/NfdHG6oHBJ8Qxc26s/the-zettelkasten-method-1&#34;&gt;here&lt;/a&gt;. Further reading in the &lt;a href=&#34;https://zettelkasten.de/posts/overview/&#34;&gt;official site&lt;/a&gt; and some help for &lt;a href=&#34;https://org-roam.readthedocs.io/en/master/notetaking_workflow/&#34;&gt;workflow&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&#34;center-block&#34; style=&#34;text-align: center; margin-left: auto; margin-right: auto;&#34;&gt;
&lt;p&gt;&lt;em&gt;&amp;#34;Your mind is for having ideas, not holding them.&amp;#34;&lt;/em&gt; &lt;br&gt;
–David Allen&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-2&#34;&gt;
Installing Org-roam
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;This post assumes you have already installed DoomEmacs in Windows (&lt;a href=&#34;https://earvingad.github.io/posts/doom_emacs_windows/&#34;&gt;Doom, Emacs &amp;amp; Windows&lt;/a&gt;). Most of the instructions were taken from &lt;a href=&#34;https://org-roam.readthedocs.io/en/master/installation/&#34;&gt;Org-roam official site&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Download the &lt;a href=&#34;https://sqlite.org/download.html&#34;&gt;Official binary&lt;/a&gt; of &lt;code class=&#34;verbatim&#34;&gt;sqlite3&lt;/code&gt; (the one that includes the &lt;code class=&#34;verbatim&#34;&gt;command-line shell program&lt;/code&gt; aka the &lt;code class=&#34;verbatim&#34;&gt;.exe&lt;/code&gt;)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Extract it and add it to your &lt;code class=&#34;verbatim&#34;&gt;path&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;You can check &lt;a href=&#34;https://earvingad.github.io/posts/doom_emacs_windows/&#34;&gt;Doom, Emacs &amp;amp; Windows&lt;/a&gt; to see how to add it to your &lt;code class=&#34;verbatim&#34;&gt;path&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In Emacs, install the &lt;code class=&#34;verbatim&#34;&gt;emacsql-sqlite3&lt;/code&gt; package&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Using DoomEmacs, just add &lt;code class=&#34;verbatim&#34;&gt;(package! emacsql-sqlite3)&lt;/code&gt; in your &lt;code class=&#34;verbatim&#34;&gt;packages.el&lt;/code&gt; (located in &lt;code class=&#34;verbatim&#34;&gt;C:\Users\yourusername\.doom.d\&lt;/code&gt;&lt;sup class=&#34;footnote-reference&#34;&gt;&lt;a id=&#34;footnote-reference-1&#34; href=&#34;https://earvingad.github.io/posts/org_roam_windows/#footnote-1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; or &lt;code class=&#34;verbatim&#34;&gt;~/.doom.d&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;and run &lt;code class=&#34;verbatim&#34;&gt;~/.emacs.d/bin/doom sync&lt;/code&gt; in the git-bash.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using a text editor (e.g. notepad) modify &lt;code class=&#34;verbatim&#34;&gt;org-roam-db.el&lt;/code&gt; (located in &lt;code class=&#34;verbatim&#34;&gt;~/.emacs.d/.local/straight/repos/emacsql-sqlite3/&lt;/code&gt;):&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Replace &lt;code class=&#34;verbatim&#34;&gt;(require &amp;#39;emacsql-sqlite)&lt;/code&gt; with &lt;code class=&#34;verbatim&#34;&gt;(require &amp;#39;emacsql-sqlite3)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Comment/deactivate or delete the complete function &lt;code class=&#34;verbatim&#34;&gt;(defconst org-roam-db--sqlite-available-p ... )&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;In the function &lt;code class=&#34;verbatim&#34;&gt;(defun org-roam-db ...&lt;/code&gt;, replace &lt;code class=&#34;verbatim&#34;&gt;emacsql-sqlite&lt;/code&gt; with &lt;code class=&#34;verbatim&#34;&gt;emacsql-sqlite3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you compile &lt;code class=&#34;verbatim&#34;&gt;.el&lt;/code&gt; files, ensure to replace &lt;code class=&#34;verbatim&#34;&gt;org-roam-db.elc&lt;/code&gt; with the new source you modified.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In other words: delete the &lt;code class=&#34;verbatim&#34;&gt;~/.emacs.d/.local/straight/build/org-roam-db.elc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;And run &lt;code class=&#34;verbatim&#34;&gt;~/.emacs.d/bin/doom sync&lt;/code&gt; once more.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Back in Emacs, install and configure org-roam&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open &lt;code class=&#34;verbatim&#34;&gt;~/.doom.d/init.el&lt;/code&gt; and replace &lt;code class=&#34;verbatim&#34;&gt;org&lt;/code&gt;, in &lt;code&gt;:lang&lt;/code&gt; section, with &lt;code class=&#34;verbatim&#34;&gt;(org +roam)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Define your org-roam-directory in your &lt;code class=&#34;verbatim&#34;&gt;config.el&lt;/code&gt;:
&lt;code class=&#34;verbatim&#34;&gt;(setq org-roam-directory &amp;#34;/path/of/your/roam/directory&amp;#34;)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To get graphics, download &lt;a href=&#34;https://graphviz.gitlab.io/_pages/Download/Download_windows.html&#34;&gt;Graphviz&lt;/a&gt; (the zip) and extract it where you prefer.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Add this to your &lt;code class=&#34;verbatim&#34;&gt;config.el&lt;/code&gt;:
&lt;code class=&#34;verbatim&#34;&gt;(setq org-roam-graph-executable &amp;#34;/path/to/dot.exe&amp;#34;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;You might want to add your preferred viewer (or graphs will be open in Firefox by default):
&lt;code class=&#34;verbatim&#34;&gt;(setq org-roam-graph-viewer &amp;#34;/path/to/image-viewer&amp;#34;)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Run &lt;code class=&#34;verbatim&#34;&gt;~/.emacs.d/bin/doom sync&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;et voilà!&lt;/em&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Here is how taking notes looks in DoomEmacs (from the Org-rom github page).&lt;/p&gt;
&lt;p&gt;
&lt;figure&gt;&lt;img src=&#34;https://github.com/org-roam/org-roam/blob/master/doc/images/org-roam-graph.gif?raw=true&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;
I still have some pending:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TODO Set &lt;a href=&#34;https://org-roam.readthedocs.io/en/master/roam_protocol/&#34;&gt;Org-roam protocol&lt;/a&gt; in Windows&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr class=&#34;footnotes-separatator&#34;&gt;
&lt;div class=&#34;footnote-definitions&#34;&gt;
&lt;div class=&#34;footnote-definition&#34;&gt;
&lt;sup id=&#34;footnote-1&#34;&gt;&lt;a href=&#34;https://earvingad.github.io/posts/org_roam_windows/#footnote-reference-1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;
&lt;div class=&#34;footnote-body&#34;&gt;
&lt;p&gt;&lt;code class=&#34;verbatim&#34;&gt;C:\Users\yourusername&lt;/code&gt; is your HOME folder &amp;#34;~&amp;#34;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/orgmode/">orgmode</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/roam/">roam</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/windows/">windows</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/org/">org</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/roam/">roam</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/windows/">windows</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/zettelkasten/">zettelkasten</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Org-mode</title>
                <link>https://earvingad.github.io/posts/org_mode/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/org_mode/</guid>
                <pubDate>Sun, 24 May 2020 17:38:08 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;
&lt;a href=&#34;https://orgmode.org/&#34;&gt;Org-mode&lt;/a&gt; is an Emacs mode for note taking, project planing and making TODO lists (because we all need TODO lists to &lt;a href=&#34;https://en.wikipedia.org/wiki/Getting_Things_Done&#34;&gt;GTD&lt;/a&gt;). It can handle more things: Calendar, diary, agenda and export you Org documents to other file extensions. I am not going do talk about all can do with org-mode, you can google yourself for further information. I am going to focus in note taking and export.&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
The org file
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;It all starts with a file with a &lt;code class=&#34;verbatim&#34;&gt;.org&lt;/code&gt; extension. Create one in Doomemacs with &lt;code class=&#34;verbatim&#34;&gt;SPC .&lt;/code&gt; and name it &amp;#34;myfile.org&amp;#34;. By default a template should fill the title like:&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;#+TITLE: Myfile&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This is part of the heading of the document. Here you can specify some options like the author, email, date or disable the table of contents (toc).&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;#+AUTHOR: Some Author
#+EMAIL: Some@email.com
#+OPTIONS: toc:nil&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;After this, the body of the document begins. You start a headline with &lt;code class=&#34;verbatim&#34;&gt;*&lt;/code&gt; and two of them &lt;code class=&#34;verbatim&#34;&gt;**&lt;/code&gt; indicate a subheadline. You can specify verbatim text between &lt;code class=&#34;verbatim&#34;&gt;~|~&lt;/code&gt;, code inside &lt;code class=&#34;verbatim&#34;&gt;=|=&lt;/code&gt;, italics surrounded by &lt;code class=&#34;verbatim&#34;&gt;/|/&lt;/code&gt; and bold text inside &lt;code class=&#34;verbatim&#34;&gt;*|*&lt;/code&gt;. (The | indicates the cursor position, or where you write your text).&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;* Heading 1
** Heading 1.1
This is ~verbatim~, =code=, /italics/, *bold* and _underlined_ as well.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Lists and TODO&amp;#39;s
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;For simple bullet list you can start it with:&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;- Item one
- Item 2&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;or numbered list&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;1. First.
2. Second.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The cool thing, is that pressing &lt;code class=&#34;verbatim&#34;&gt;Alt-RET&lt;/code&gt; (alt-enter) will automatically take you to the next line keeping the counting of the items (e.g. If you are in item &amp;#34;2. Second&amp;#34; and press &lt;code class=&#34;verbatim&#34;&gt;Alt-RET&lt;/code&gt; the next item will be &amp;#34;3. |&amp;#34;).&lt;/p&gt;
&lt;p&gt;
To insert a TODO just type: &amp;#34;* Buy milk&amp;#34; and then press &lt;code class=&#34;verbatim&#34;&gt;SPC m t t&lt;/code&gt; to mark it as a TODO. Or press &lt;code class=&#34;verbatim&#34;&gt;Shift-Right/Left&lt;/code&gt; to change the state from &amp;#34;TODO&amp;#34; to &amp;#34;DONE&amp;#34;&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;* TODO Buy milk.
* WAIT Get money to but milk.
* DONE Get a Job.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-3&#34;&gt;
Blocks, comments &amp;amp; quotes
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;To start a block just write (ignore the &amp;#34;.&amp;#34; at the beginning):&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;.#+BEGIN_SRC NameOfTheLanguageCode

.#+END_SRC&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Quotes and comments are similar&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;#+begin_quote

#+end_quote
#+BEGIN_COMMENT

#+END_COMMENT&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-4&#34;&gt;
Tables, figures &amp;amp; links
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;Yes, we can have tables. Use &amp;#34;|&amp;#34; and type &amp;#34;name&amp;#34;, again &amp;#34;|&amp;#34;, type &amp;#34;Phone&amp;#34; and press &lt;code class=&#34;verbatim&#34;&gt;TAB&lt;/code&gt;. You will see how Emacs starts to arrange the table fitting automatically the width according to the content.&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;| Name  | Phone | Age |
|-------+-------+-----|
| Peter |  1234 |  17 |
| Anna  |  4321 |  25 |&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Inserting a figure is simple as typing: &lt;code class=&#34;verbatim&#34;&gt;[[/path/to/the/image][desciption]]&lt;/code&gt;. If you press &lt;code class=&#34;verbatim&#34;&gt;zi&lt;/code&gt; in DoomEmacs it will call the function &lt;code class=&#34;verbatim&#34;&gt;org-toggle-inline-images&lt;/code&gt; and will display the image you set in the document.&lt;/p&gt;
&lt;p&gt;
The same syntax is used for the links, just type: &lt;code class=&#34;verbatim&#34;&gt;[[url][desciption]]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
In DoomEmacs you can press &lt;code class=&#34;verbatim&#34;&gt;SPC m l l&lt;/code&gt; to insert links and files/images.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-5&#34;&gt;
Final thoughts
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;The great thing about org-mode is that you can fold/unfold the sections of the document, to navigate quickly trough the notes, and export this plain text document (Yes, if you open the org file in a notepad you will see just plain text, is Emacs that renders the plain text) to a more common document types such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Org document –&amp;gt; LaTeX document -&amp;gt; PDF document.&lt;/li&gt;
&lt;li&gt;Org document –&amp;gt; ODT document (the free alternative to Microsoft doc files, look at &lt;a href=&#34;https://www.libreoffice.org/&#34;&gt;LibreOffice&lt;/a&gt; project).&lt;/li&gt;
&lt;li&gt;Org document –&amp;gt; &lt;a href=&#34;https://www.markdownguide.org/&#34;&gt;Markdown&lt;/a&gt; document (another plain text format).&lt;/li&gt;
&lt;li&gt;Org document –&amp;gt; html document.&lt;/li&gt;
&lt;li&gt;Org document –&amp;gt; Plain text document.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can export from one to another document with &lt;a href=&#34;https://pandoc.org/&#34;&gt;Pandoc&lt;/a&gt;, which was meant to convert from Markdown to any type of document. As the Pandoc&amp;#39;s page says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you need to convert files from one markup format into another, pandoc is your swiss-army knife. Pandoc can convert between the following formats.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And there are several formats. However, for simple day-life PDF, html, ODT and plain text (for emails) the Emacs org-export works fine.&lt;/p&gt;
&lt;p&gt;
As an example, an org document can look like this
&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/orgmode-sample.png&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/emacs/">emacs</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/orgmode/">orgmode</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/emacs/">emacs</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>Doom, Emacs &amp; Windows</title>
                <link>https://earvingad.github.io/posts/doom_emacs_windows/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/doom_emacs_windows/</guid>
                <pubDate>Fri, 22 May 2020 20:10:08 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;p&gt;&lt;a href=&#34;https://github.com/hlissner/doom-emacs&#34;&gt;Doom-emacs&lt;/a&gt;. It&amp;#39;s a configuration framework for Emacs. Basically, it overrides the Emacs keybindings with most of vim&amp;#39;s.&lt;/p&gt;
&lt;p&gt;
As I mentioned in the last post. I started using Emacs at work due to org-mode… and work PC&amp;#39;s use windows behind a Firewall, so using git, pip, melpa and some more are useless in my work desktop (In the Laptop all of them work if I connect to another network, which was what I did).&lt;/p&gt;
&lt;p&gt;
As you can imagine, Doom is for a GNU program so Windows support is limited (because, who cares?). The &lt;a href=&#34;https://github.com/hlissner/doom-emacs/blob/develop/docs/getting_started.org#on-windows&#34;&gt;guide&lt;/a&gt; is poor, it describes how to install it with scoop/chocolatey (that don&amp;#39;t work with a firewall). However, you can use the git-bash to install Doom without scoop/chocolatey.
Here is how you do it:&lt;/p&gt;
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
What you need
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;If you have limited permissions in Windows PC (e.g. admin privileges), you might not be able to use Chocolatey/Scoop.
However, you can still use &lt;code class=&#34;verbatim&#34;&gt;git-bash.exe&lt;/code&gt; portable version!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Download &lt;a href=&#34;https://git-scm.com/download/win&#34;&gt;git&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Download &lt;a href=&#34;https://github.com/BurntSushi/ripgrep/releases&#34;&gt;Ripgrep&lt;/a&gt; and &lt;a href=&#34;https://github.com/sharkdp/fd/releases&#34;&gt;fd&lt;/a&gt;. Make sure you download the &lt;code class=&#34;verbatim&#34;&gt;windows-gnu&lt;/code&gt; version.&lt;/li&gt;
&lt;li&gt;Of course, download &lt;a href=&#34;http://ftp.wayne.edu/gnu/emacs/windows/&#34;&gt;emacs&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Extract the binaries&lt;sup class=&#34;footnote-reference&#34;&gt;&lt;a id=&#34;footnote-reference-1&#34; href=&#34;https://earvingad.github.io/posts/doom_emacs_windows/#footnote-1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt; from &lt;code class=&#34;verbatim&#34;&gt;Ripgrep&lt;/code&gt; and &lt;code class=&#34;verbatim&#34;&gt;fd&lt;/code&gt; to their respective folders and place them where you want.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You should have one folder for &lt;code class=&#34;verbatim&#34;&gt;Ripgrep&lt;/code&gt; and another for &lt;code class=&#34;verbatim&#34;&gt;fd&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Extract emacs and place it where you want.
It does not matter where they are, we will add them to the &lt;code class=&#34;verbatim&#34;&gt;Path&lt;/code&gt; later (but keep them
safe and where you can remember).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-2&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-2&#34;&gt;
Instructions
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-2&#34; class=&#34;outline-text-2&#34;&gt;
&lt;div id=&#34;outline-container-headline-3&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-3&#34;&gt;
Edit system environment variables
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-3&#34; class=&#34;outline-text-3&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;Control panel -&amp;gt; User Accounts -&amp;gt; Change my environment variables&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;New&lt;/code&gt;, type &lt;code class=&#34;verbatim&#34;&gt;HOME&lt;/code&gt; and set your &lt;code class=&#34;verbatim&#34;&gt;C:\Users\USERNAME&lt;/code&gt; and &lt;code class=&#34;verbatim&#34;&gt;OK&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Select &lt;code class=&#34;verbatim&#34;&gt;Path&lt;/code&gt;, &lt;code class=&#34;verbatim&#34;&gt;edit&lt;/code&gt; and add your &lt;code class=&#34;verbatim&#34;&gt;C:\path\to\the\emacs\bin&lt;/code&gt; folder and &lt;code class=&#34;verbatim&#34;&gt;OK&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Select &lt;code class=&#34;verbatim&#34;&gt;Path&lt;/code&gt;, &lt;code class=&#34;verbatim&#34;&gt;edit&lt;/code&gt; and add your &lt;code class=&#34;verbatim&#34;&gt;C:\path\to\the\ripgrep&lt;/code&gt; folder and &lt;code class=&#34;verbatim&#34;&gt;OK&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Select &lt;code class=&#34;verbatim&#34;&gt;Path&lt;/code&gt;, &lt;code class=&#34;verbatim&#34;&gt;edit&lt;/code&gt; and add your &lt;code class=&#34;verbatim&#34;&gt;C:\path\to\the\fd&lt;/code&gt; folder and &lt;code class=&#34;verbatim&#34;&gt;OK&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Click &lt;code class=&#34;verbatim&#34;&gt;Ok&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;We still need to add &lt;code class=&#34;verbatim&#34;&gt;C:\Users\USERNAME\.emacs.d\bin&lt;/code&gt;; but first download Doom
files.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-4&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-4&#34;&gt;
Install Doom
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-4&#34; class=&#34;outline-text-3&#34;&gt;
&lt;ul&gt;
&lt;li&gt;Open &lt;code class=&#34;verbatim&#34;&gt;git-bash.exe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Type &lt;code class=&#34;verbatim&#34;&gt;cd ~&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run: &lt;code class=&#34;verbatim&#34;&gt;git clone https://github.com/hlissner/doom-emacs ~/.emacs.d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;After the download is completed, type &lt;code class=&#34;verbatim&#34;&gt;cd ~/.emacs.d/bin&lt;/code&gt; and run: &lt;code class=&#34;verbatim&#34;&gt;./doom install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;If everything is fine, Doom is now installed.&lt;/li&gt;
&lt;li&gt;Just in case run &lt;code class=&#34;verbatim&#34;&gt;./doom sync&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;Control panel -&amp;gt; User Accounts -&amp;gt; Change my environment variables&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Select &lt;code class=&#34;verbatim&#34;&gt;Path&lt;/code&gt;, &lt;code class=&#34;verbatim&#34;&gt;edit&lt;/code&gt; and add &lt;code class=&#34;verbatim&#34;&gt;C:\Users\USERNAME\.emacs.d\bin&lt;/code&gt;, click &lt;code class=&#34;verbatim&#34;&gt;OK -&amp;gt; OK&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Now you can start emacs and will see the Doom dashboard!&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-5&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-5&#34;&gt;
All the icons
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-5&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;By default all-the-icons will not be enabled in Windows.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If all-the-icons is not installed. Open emacs and &lt;code class=&#34;verbatim&#34;&gt;M-x package-install RET all-the-icons RET&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;M-x all-the-icons-install-fonts&lt;/code&gt; select where to download the fonts and
install them (double click -&amp;gt; install).&lt;/li&gt;
&lt;li&gt;Restart emacs and there you go.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-6&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-6&#34;&gt;
From one PC to another
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-6&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;If one of your PCs does not have internet connection or is under a firewall, you can:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copy your &lt;code class=&#34;verbatim&#34;&gt;~/.doom.d ~/.emacs.d ripgrep fd emacs&lt;/code&gt; folders directly to the
other PC (&lt;code class=&#34;verbatim&#34;&gt;~/.domm.d ~/.emacs.d&lt;/code&gt; go in &lt;code class=&#34;verbatim&#34;&gt;C:\Users\USERNAME&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Edit the system environment variables accordingly.&lt;/li&gt;
&lt;li&gt;Copy and install the fonts you downloaded with &lt;code class=&#34;verbatim&#34;&gt;all-the-icons&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Open &lt;code class=&#34;verbatim&#34;&gt;git-bash.exe&lt;/code&gt;, &lt;code class=&#34;verbatim&#34;&gt;cd ~/.emacs.d/bin&lt;/code&gt; and run: &lt;code class=&#34;verbatim&#34;&gt;./doom sync&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;et voilà!&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;outline-container-headline-7&#34; class=&#34;outline-3&#34;&gt;
&lt;h3 id=&#34;headline-7&#34;&gt;
Emacs server
&lt;/h3&gt;
&lt;div id=&#34;outline-text-headline-7&#34; class=&#34;outline-text-3&#34;&gt;
&lt;p&gt;If you use emacs server, Doom will place the server file in
&lt;code class=&#34;verbatim&#34;&gt;C:\Users\USERNAME\.emacs.d\.local\cache\server&lt;/code&gt; folder.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Go to &lt;code class=&#34;verbatim&#34;&gt;Control panel -&amp;gt; User Accounts -&amp;gt; Change my environment variables&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&#34;verbatim&#34;&gt;New&lt;/code&gt; type &lt;code class=&#34;verbatim&#34;&gt;EMACS_SERVER_FILE&lt;/code&gt; and set the file path &lt;code class=&#34;verbatim&#34;&gt;C:\Users\USERNAME\.emacs.d\.local\cache\server\server&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Create a &lt;code class=&#34;verbatim&#34;&gt;emacsclientw.exe&lt;/code&gt; shortcut with &lt;code class=&#34;verbatim&#34;&gt;emacsclientw.exe -nc&lt;/code&gt; in target,
run emacs server and emacsclientw will work.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, rejoice!&lt;/p&gt;
&lt;p&gt;
&lt;figure&gt;&lt;img src=&#34;https://earvingad.github.io/posts/img/cacochan.png&#34;/&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr class=&#34;footnotes-separatator&#34;&gt;
&lt;div class=&#34;footnote-definitions&#34;&gt;
&lt;div class=&#34;footnote-definition&#34;&gt;
&lt;sup id=&#34;footnote-1&#34;&gt;&lt;a href=&#34;https://earvingad.github.io/posts/doom_emacs_windows/#footnote-reference-1&#34;&gt;1&lt;/a&gt;&lt;/sup&gt;
&lt;div class=&#34;footnote-body&#34;&gt;
&lt;p&gt; with binaries I mean the .exe&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/doomemacs/">DoomEmacs</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/categories/windows/">windows</category>
                                
                            
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/doom/">doom</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/emacs/">emacs</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/windows/">windows</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/git/">git</category>
                                
                            
                        
                    
                
            </item>
        
            <item>
                <title>In the Beginning</title>
                <link>https://earvingad.github.io/posts/in-the-beginning/</link>
                <guid isPermaLink="true">https://earvingad.github.io/posts/in-the-beginning/</guid>
                <pubDate>Wed, 20 May 2020 22:25:18 -0500</pubDate>
                
                    <author>gmail.com (Earving)</author>
                
                <copyright>If you share, please give credit and support.</copyright>
                
                    <description>
&lt;div id=&#34;outline-container-headline-1&#34; class=&#34;outline-2&#34;&gt;
&lt;h2 id=&#34;headline-1&#34;&gt;
First things first
&lt;/h2&gt;
&lt;div id=&#34;outline-text-headline-1&#34; class=&#34;outline-text-2&#34;&gt;
&lt;p&gt;This place is going to be my personal blog. I am going to write about nerd things I don&amp;#39;t generally speak with people.
Such things include: &lt;code class=&#34;verbatim&#34;&gt;Emacs, linux, vim, encryption&lt;/code&gt; and &lt;code class=&#34;verbatim&#34;&gt;a e s t h e t i c s&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;
This blog is hosted in &lt;a href=&#34;https://github.com/&#34;&gt;github&lt;/a&gt;, written in &lt;a href=&#34;https://www.gnu.org/software/emacs/&#34;&gt;Emacs&lt;/a&gt; with &lt;a href=&#34;https://orgmode.org/&#34;&gt;org-mode&lt;/a&gt; and posted with &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt; (This is one of the topics I&amp;#39;ll be posting later: &lt;em&gt;How to blog with github and Hugo&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;
Recently, I started using emacs at work due to &lt;code class=&#34;verbatim&#34;&gt;org-mode&lt;/code&gt;. I have used emacs in linux for a few months after loving LaTex previews (I am going to post about this later as well). However, at work I have to use windows under heavily firewalls and that complicate the Emacs installation.&lt;/p&gt;
&lt;p&gt;
I have always though that Emacs is neat. Just reading the name in a &lt;code class=&#34;verbatim&#34;&gt;monospaced&lt;/code&gt; font makes me think that Emacs is elegant. I love Emacs and I used the &lt;em&gt;vanilla&lt;/em&gt; key-bindings when I started using it, but never liked them. When I decided to used Emacs, I remember reading the documentation for minimal use and it went something like:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;So you just have to press &lt;code class=&#34;verbatim&#34;&gt;C-u C-x C-c&lt;/code&gt; … wait what??&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I was very used to vim key-bindings, so the Emacs learning curve was very long. After some months, I was able to use Emacs comfortably for taking quick notes at work meetings and organizing my pending tasks (Yes, TODO&amp;#39;s), but the key-bindings were tedious.&lt;/p&gt;
&lt;p&gt;
Luckily, there are frameworks that allows you to emulate vim key-bindings in Emacs. Some of these frameworks are: &lt;a href=&#34;https://www.spacemacs.org/&#34;&gt;Spacemacs&lt;/a&gt;, &lt;a href=&#34;https://github.com/seagle0128/.emacs.d&#34;&gt;Centaur Emacs&lt;/a&gt; and &lt;a href=&#34;https://github.com/hlissner/doom-emacs&#34;&gt;Doom-emacs&lt;/a&gt;. The latest, is the one I use now and installing in windows was and Odyssey but worth it!&lt;/p&gt;
&lt;p&gt;
The next posts are going to be about:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;How to install Doom-emacs in windows&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Org-mode&lt;/em&gt; &amp;amp; &lt;em&gt;org-roam&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;… and we&amp;#39;ll see.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;src src-none&#34;&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-none&#34; data-lang=&#34;none&#34;&gt;If you found this content useful, please support me:
BTC: 1E2YjL6ysiPxRF4AEdXChpzpesRuyzgE1y&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
                
                
                
                
                
                    
                        
                    
                        
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/introduction/">introduction</category>
                                
                            
                                
                                
                                
                                    <category domain="https://earvingad.github.io/tags/hugo/">hugo</category>
                                
                            
                        
                    
                
            </item>
        
    </channel>
</rss>
